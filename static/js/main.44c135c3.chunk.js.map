{"version":3,"sources":["img/earth_nasa_2012_2000x1000_alt.jpg","util/tle.js","util/Sats.js","img/circle.png","datos/datos.csv","ClaseOrbita.js","Usos.js","PaisOperador.js","Contador.js","ResetView.js","Reset.js","datos/acumulados.csv","Grafica.js","Paises.js","MostrarOrbita.js","App.js","index.js"],"names":["toThree","v","x","y","z","getPositionFromTle","station","date","type","satrec","tle1","tle2","satellite","positionVelocity","positionEci","position","gmst","positionEcf","hoy","Date","defaultOptions","backgroundColor","defaultSatelliteColor","defaultStationOptions","orbitMinutes","satelliteSize","Sats","stations","targetList","handleWindowResize","renderer","setSize","camera","aspect","width","updateProjectionMatrix","render","loadLteFileStations","url","color","dictEstaciones","mostrarOrbita","stationOptions","options","fetch","then","res","ok","text","lteFileContent","fileContent","result","lines","split","current","id_norad","i","length","line","trim","toString","datos","name","push","filter","item","parseTleFile","forEach","s","material","_satelliteSprite","THREE","load","map","sizeAttenuation","scale","set","sat","pos","mesh","addOrbit","earth","add","revsPerDay","no","minutes","initialDate","orbitMaterial","opacity","transparent","points","getTime","geometry","setFromPoints","orbitCurve","orbit","borraOrbitas","estaciones","removeOrbit","remove","dispose","updateSatellitePosition","updateAllPositions","scene","this","lookAt","apply","children","sun","ambient","textLoader","group","side","flatShading","tierra","container","vista","raycaster","height","controls","OrbitControls","enablePan","addEventListener","logarithmicDepthBuffer","antialias","setClearColor","appendChild","domElement","window","removeEventListener","ClaseOrbita","props","c1","checked_LEO","c2","checked_GEO","c3","checked_MEO","c4","checked_Elliptical","className","id","value","onChange","checked","htmlFor","Usos","selected","PaisOperador","paisesOperadores","pais","Contador","total","ResetView","onClick","Reset","Grafica","margin_gr","width_gr","height_gr","svg","d3","append","attr","acumulados","x_gr","domain","range","call","tickSize","selectAll","style","y_gr","d","acumulado","tickFormat","ticks","datum","parse","fecha","muestraGrafica","Component","onlyUnique","index","self","indexOf","Paises","mapaPaises","Map","civ","gov","mil","com","pais_operador","usos","get","valor","clave","recuento","slice","sort","a","b","data","margin","svg_paises","padding","enter","bandwidth","alto","muestraPaises","actualizaPaises","MostrarOrbita","deshabilitado","marcado","disabled","paises_operadores","App","onChangeClaseOrbitaHandler","clases","state","claseOrbita","target","sats","quitarSatelites","setState","actualizar","onChangeUsosHandler","onChangePaisOperadorHandler","onChangeMostrarOrbita","mostrar_orbita","onClickResetViewHandler","resetView","onClickResetFormulario","LEO","GEO","MEO","Elliptical","claseOrbitaBooleano","clase_orbita","usosBooleano","paisOperadorBooleano","fila","includes","nombre","nombre_oficial","mostrar_orbita_disabled","initialize","setInterval","ref","elemento","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.44c135c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/earth_nasa_2012_2000x1000_alt.1aa62857.jpg\";","import * as satellite from \"satellite.js/lib/index\";\n\nexport const parseTleFile = (fileContent, dictEstaciones, stationOptions) => {\n  const result = [];\n  const lines = fileContent.split(\"\\n\");\n  let current = null;\n  let id_norad = \"0\";\n\n  for (let i = 0; i < lines.length; ++i) {\n    const line = lines[i].trim();\n\n    if (line.length === 0) continue;\n\n    if (line[0] === \"1\") {\n      current.tle1 = line;\n    } else if (line[0] === \"2\") {\n      current.tle2 = line;\n      id_norad = line.split(\" \")[1];\n      if (id_norad) {\n        current.id_norad = id_norad.toString().trim();\n        current.datos = dictEstaciones[id_norad];\n      } else {\n        current.id_norad = \"0\";\n      }\n    } else {\n      current = {\n        name: line,\n        ...stationOptions,\n      };\n      result.push(current);\n    }\n  }\n\n  let resultado = result.filter((item) => item.datos);\n  return resultado;\n};\n\nconst toThree = (v) => {\n  return { x: v.x, y: v.z, z: -v.y };\n};\n\n\nexport const getPositionFromTle = (station, date, type = 1) => {\n  if (!station || !date) return null;\n\n  if (!station.satrec) {\n    const { tle1, tle2 } = station;\n    if (!tle1 || !tle2) return null;\n    station.satrec = satellite.twoline2satrec(tle1, tle2);\n  }\n  const positionVelocity = satellite.propagate(station.satrec, date);\n\n  const positionEci = positionVelocity.position;\n\n  if (type === 2) \n    return;\n\n  toThree(positionEci);\n  const gmst = satellite.gstime(date);\n  if (!positionEci) \n    return null;\n  const positionEcf = satellite.eciToEcf(positionEci, gmst);\n  return toThree(positionEcf);\n};\n","import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport tierra from \"../img/earth_nasa_2012_2000x1000_alt.jpg\";\nimport plantilla from \"../img/circle.png\";\nimport { parseTleFile, getPositionFromTle } from \"./tle\";\n\nlet hoy = new Date();\n\nconst defaultOptions = {\n  backgroundColor: 0x111110,\n  defaultSatelliteColor: 0xff0000\n};\n\nconst defaultStationOptions = {\n  orbitMinutes: 0,\n  satelliteSize: 50,\n};\n\nexport class Sats {\n  stations = [];\n  targetList = [];\n\n  resetView() {\n    this.camera.position.z = -45000;\n    this.camera.position.y = 15000;\n    this.camera.position.x = 45000;\n    this.camera.lookAt(0, 0, 0);\n    this.render();\n  }\n\n  quitarSatelites() {\n    this.scene.remove.apply(this.scene, this.scene.children);\n\n    this.stations = [];\n    const sun = new THREE.PointLight(0xffffff, 1, 0);\n    sun.position.set(0, 0, -149400000);\n    const ambient = new THREE.AmbientLight(0x909090);\n    this.scene.add(sun);\n    this.scene.add(ambient);\n\n    const textLoader = new THREE.TextureLoader();\n    const group = new THREE.Group();\n\n    let geometry = new THREE.SphereGeometry(6371, 50, 50);\n    let material = new THREE.MeshPhongMaterial({\n      side: THREE.DoubleSide,\n      flatShading: false,\n      map: textLoader.load(tierra, this.render),\n    });\n\n    const earth = new THREE.Mesh(geometry, material);\n    group.add(earth);\n\n    this.earth = group;\n    this.scene.add(this.earth);\n\n    this.render();\n  }\n\n  initialize(container, options = {}) {\n    this.vista = container;\n    this.raycaster = new THREE.Raycaster();\n    this.options = { ...defaultOptions, ...options };\n\n    const width = 800;\n    const height = 400;\n\n    this.scene = new THREE.Scene();\n\n    this.camera = new THREE.PerspectiveCamera(54, width / height, 1e-6, 1e27);\n    this.controls = new OrbitControls(this.camera, this.vista);\n    this.controls.enablePan = false;\n    this.controls.addEventListener(\"change\", () => this.render());\n    this.camera.position.z = -45000;\n    this.camera.position.y = 15000;\n    this.camera.position.x = 45000;\n    this.camera.lookAt(0, 0, 0);\n\n    this.renderer = new THREE.WebGLRenderer({\n      logarithmicDepthBuffer: true,\n      antialias: true,\n    });\n\n    this.renderer.setClearColor(new THREE.Color(this.options.backgroundColor));\n    this.renderer.setSize(width, height);\n\n    this.vista.appendChild(this.renderer.domElement);\n\n    const sun = new THREE.PointLight(0xffffff, 1, 0);\n    sun.position.set(0, 0, -149400000);\n    const ambient = new THREE.AmbientLight(0x909090);\n    this.scene.add(sun);\n    this.scene.add(ambient);\n\n    const textLoader = new THREE.TextureLoader();\n    const group = new THREE.Group();\n\n    let geometry = new THREE.SphereGeometry(6371, 50, 50);\n    let material = new THREE.MeshPhongMaterial({\n      side: THREE.DoubleSide,\n      flatShading: false,\n      map: textLoader.load(tierra, this.render),\n    });\n\n    const earth = new THREE.Mesh(geometry, material);\n    group.add(earth);\n    this.earth = group;\n    this.scene.add(this.earth);\n    this.render();\n    window.addEventListener(\"resize\", this.handleWindowResize);\n  }\n\n  dispose() {\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    this.raycaster = null;\n    this.vista = null;\n    this.controls.dispose();\n  }\n\n  handleWindowResize = () => {\n    const width = 800;\n    const height = 400;\n\n    this.renderer.setSize(width, height);\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n    this.render();\n  };\n\n  loadLteFileStations = (url, color, dictEstaciones, mostrarOrbita, stationOptions) => {\n    const options = { ...defaultStationOptions, ...stationOptions };\n\n    return fetch(url).then((res) => {\n      if (res.ok) {\n        return res.text().then((lteFileContent) => {\n          const stations = parseTleFile(\n            lteFileContent,\n            dictEstaciones,\n            options\n          );\n\n          const { satelliteSize } = options;\n\n          stations.forEach((s) => {\n            const SpriteScaleFactor = 5000;\n\n            if (!this.material) {\n              this._satelliteSprite = new THREE.TextureLoader().load(\n                plantilla,\n                this.render\n              );\n              this.material = new THREE.SpriteMaterial({\n                map: this._satelliteSprite,\n                color: color,\n                sizeAttenuation: false,\n              });\n            }\n\n            const result = new THREE.Sprite(this.material);\n\n            result.scale.set(\n              satelliteSize / SpriteScaleFactor,\n              satelliteSize / SpriteScaleFactor,\n              1\n            );\n\n            const sat = result;\n            const pos = getPositionFromTle(s, hoy);\n            if (!pos) return;\n\n            sat.position.set(pos.x, pos.y, pos.z);\n            s.mesh = sat;\n            this.stations.push(s);\n\n            // if (s.orbitMinutes > 0) this.addOrbit(s);\n            if (stations.length <= 100 && mostrarOrbita) {\n              this.addOrbit(s);\n            }\n            \n\n            this.earth.add(sat);\n          });\n\n          this.render();\n\n          return stations;\n        });\n      }\n    });\n  };\n\n  addOrbit = (station) => {\n    if (station.orbitMinutes > 0) return;\n\n    const revsPerDay = station.satrec.no * (1440 / (2.0 * 3.141592654));\n    const intervalMinutes = 1;\n    const minutes = station.orbitMinutes || 1440 / revsPerDay;\n    const initialDate = new Date();\n\n    if (!this.orbitMaterial) {\n      this.orbitMaterial = new THREE.LineBasicMaterial({\n        color: 0x999999,\n        opacity: 0.5,\n        transparent: true,\n      });\n    }\n\n    var points = [];\n\n    for (var i = 0; i <= minutes; i += intervalMinutes) {\n      const date = new Date(initialDate.getTime() + i * 60000);\n\n      const pos = getPositionFromTle(station, date);\n      if (!pos) continue;\n\n      points.push(new THREE.Vector3(pos.x, pos.y, pos.z));\n    }\n\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\n    var orbitCurve = new THREE.Line(geometry, this.orbitMaterial);\n    station.orbit = orbitCurve;\n\n    this.earth.add(orbitCurve);\n    this.render();\n  };\n\n  borraOrbitas = (estaciones) => {\n    estaciones.forEach((s) => {this.removeOrbit(s)})   \n  }\n\n  removeOrbit = (station) => {\n    if (!station || !station.orbit) return;\n\n    this.earth.remove(station.orbit);\n    station.orbit.geometry.dispose();\n    station.orbit = null;\n    station.mesh.material = this.material;\n    this.render();\n\n\n  };\n\n  updateSatellitePosition = (station, date) => {\n    date = date || hoy;\n\n    const pos = getPositionFromTle(station, date);\n    if (!pos) return;\n\n    station.mesh.position.set(pos.x, pos.y, pos.z);\n  };\n\n  updateAllPositions = (date) => {\n    if (!this.stations) return;\n\n    this.stations.forEach((station) => {\n      this.updateSatellitePosition(station, date);\n    });\n\n    this.render();\n  };\n\n  render = () => {\n    this.renderer.render(this.scene, this.camera);\n  };\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU0NzRBMzdDQ0UzQzExRTlBQTNEQ0RGREI3NTMyNURBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU0NzRBMzdEQ0UzQzExRTlBQTNEQ0RGREI3NTMyNURBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTQ3NEEzN0FDRTNDMTFFOUFBM0RDREZEQjc1MzI1REEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTQ3NEEzN0JDRTNDMTFFOUFBM0RDREZEQjc1MzI1REEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7CiWTAAAADFklEQVR42uxbQWsTQRSerdVejbe0SGoWCQG95tR7kZyF2msPhRQU9CDoLbceehCsiseC5Bf4B0Q9eLAVpalIAlbavXV7tWrG93R2GR9idp3Z3Wn2ffDIkHZnvvdl9s3Oe7OelFKUGVOi5GABWAAWoNyYNlbQK1bDkRzxDCh0BqTEObAmWB2sClZR34dgAdgQrA92MkkCtMA66rOZ8BoU4Q3YI/WZGbwsngQhLvjK6TZYw7C7j2DPUQy43wdOCwCO15TjN8Au0r+fgYB5pXlV+Jd9MTc7JyoXzv+e/0fH4uDwQAw+DcSH/nvx4++B7QtYTwnx2RppFMCGecJbAnsBJnWbn52XqyurcufttkwK/F+8Bq+l/akxlmzxtuV8FyzUiS60FmTvWU+aAvvAvogIOFa3cAGAhA/2VCfXuNSQDx9sStvAPrFvIgSO7RcigHJ+Sye0fH1Zvn75SmYF7BvHICJsmYhgIsAfv/ydm7dlcBjIrIFj4Fh0JuQqgLrnYwL3796TeQPHJCJ0cxFARftQ/+WLApkJ4f+sDmmdr+lLHd6PeUz7f90OJCYgt1qWAqzr0T7LgJcmMJLVYT0TAVTU348GymKpM1kiNQH206wKaQTY0B9yXAN5WNpI6leafEA7aqzdWnNuX084ta3uBUDRlv5s7yrI3qFlcwZ0osbitUVnszuEW8fmDNiNlE2zq8sbyE2bAbuJfBuXD4A9Pqaxvkb7+W+j707n+M5OTev5hJmRHJ2YJkXjNBYmM1wH4Tg2BZdEgHrUwEyO6yAc6zYEqEYNTGO5DsKxakOAStxQOTyXQThWuDBiQYAwbhwdO+8Q4RjaECCIGpi6dh2EY2BDgGHUwLy96yAch8aFkdI/CKkOsFb3q+N32zvOOo/cNOf745xPswrEBcrHm0+cFYBwS1ZULft2OE1GaC/q3EbJyzaQk+b8HqfEOCnKaXEujHBpjIujXB7nAxJ8RIYPSeUgwGk+Jlf6g5J8VNZUgATvC2R6WNr0fYE8BNBh/bj8aRPAOviNEReD4KRVhlgAFoAFYAEmFj8FGAAJ0wP48QIIgAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/datos.dfaff482.csv\";","import React from \"react\";\nimport \"./ClaseOrbita.css\";\n\nconst ClaseOrbita = (props) => {\n  const c1 = props.checked_LEO;\n  const c2 = props.checked_GEO;\n  const c3 = props.checked_MEO;\n  const c4 = props.checked_Elliptical;\n\n  return (\n    <div className=\"clase-orbita\">\n      <div className=\"tit-clase-orbita\">Tipo de órbita</div>\n      <div className=\"cuerpo-clase-orbita\">\n        <form className=\"form-clase-orbita\">\n          <input\n            type=\"checkbox\"\n            id=\"cb1\"\n            name=\"clase_orbita\"\n            value=\"LEO\"\n            onChange={props.onChange}\n            checked={c1}\n          />\n          <label htmlFor=\"cb1\">Baja altura (LEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb2\"\n            name=\"clase_orbita\"\n            value=\"GEO\"\n            onChange={props.onChange}\n            checked={c2}\n          />\n          <label htmlFor=\"cb2\">Geoestacionaria (GEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb3\"\n            name=\"clase_orbita\"\n            value=\"MEO\"\n            onChange={props.onChange}\n            checked={c3}\n          />\n          <label htmlFor=\"cb3\">Media altura (MEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb4\"\n            name=\"clase_orbita\"\n            value=\"Elliptical\"\n            onChange={props.onChange}\n            checked={c4}\n          />\n          <label htmlFor=\"cb4\">Excéntrica (HEO)</label>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ClaseOrbita;\n","import React from \"react\";\r\nimport \"./Usos.css\";\r\n\r\nconst Usos = (props) => {\r\n  return (\r\n    <div className=\"usos\">\r\n      <div className=\"cuerpo-usos\">\r\n        <div className=\"tit-usos\">Aplicaciones</div>\r\n\r\n        <form className=\"form-usos\">\r\n          <select\r\n            name=\"usos\"\r\n            id=\"usoSatelite\"\r\n            onChange={props.onChange}\r\n            value={props.selected}\r\n          >\r\n            <option value=\"todos\">todas</option>\r\n            <option value=\"Civil\">Civil</option>\r\n            <option value=\"Government\">Gubernamental</option>\r\n            <option value=\"Military\">Militar</option>\r\n            <option value=\"Commercial\">Comercial</option>\r\n          </select>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Usos;\r\n","import React from 'react';\r\nimport \"./PaisOperador.css\";\r\n\r\nconst PaisOperador = (props) => {\r\n\r\n    return (\r\n        <div className=\"pais-operador\">\r\n        <div className=\"tit-pais-operador\">País operador</div>\r\n\r\n        <form className=\"form-pais-operador\">\r\n            <select name=\"paisOperador\" id=\"pais\" onChange={props.onChange} value={props.selected}>\r\n                {props.paisesOperadores.map((pais) => <option key={pais} value={pais}>{pais}</option>)}\r\n            </select>        \r\n        </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaisOperador;\r\n","import React from \"react\";\r\nimport \"./Contador.css\";\r\n\r\nconst Contador = (props) => {\r\n  return (\r\n    <div className=\"contador\">\r\n    Satélites mostrados: &nbsp;<span className=\"dato\">{props.total}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contador;\r\n","import React from \"react\";\r\nimport \"./ResetView.css\";\r\n\r\nconst ResetView = (props) => {\r\n  return (\r\n    <div className=\"reset-view\">\r\n      <button className=\"boton-reset-view\" onClick={props.onClick}>Reiniciar vista</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetView;\r\n","import React from \"react\";\r\nimport \"./Reset.css\";\r\n\r\nconst Reset = (props) => {\r\n  return (\r\n    <div className=\"reset\">\r\n      <button className=\"boton-reset\" onClick={props.onClick}>Config. inicial</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","export default __webpack_public_path__ + \"static/media/acumulados.f06eb295.csv\";","import React, { Component } from 'react';\r\nimport acumulados from \"./datos/acumulados.csv\";\r\nimport \"./Grafica.css\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n\r\nclass Grafica extends Component {\r\n\r\n    muestraGrafica() {\r\n\r\n        let margin_gr = { 'top': 60, 'right': 50, 'bottom': 120, 'left': 25 };\r\n        let width_gr = 550 - margin_gr.left - margin_gr.right;\r\n        let height_gr = 450 - margin_gr.top - margin_gr.bottom;\r\n\r\n        const svg = d3\r\n            .select(\"#gr\")\r\n            .append(\"svg\")\r\n            .attr(\"class\", \"svg-grafica\")\r\n            .attr(\"width\", width_gr + margin_gr.left + margin_gr.right)\r\n            .attr(\"height\", height_gr + margin_gr.top + margin_gr.bottom)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + margin_gr.left + \",\" + margin_gr.top + \")\");\r\n\r\n      \r\n\r\n        d3.csv(acumulados).then((datos) => {\r\n\r\n            let x_gr = d3.scaleTime()\r\n                .domain([new Date(\"1974-01-01\"), new Date(\"2021-12-31\")])\r\n                // .domain(d3.extent(datos, (d) => Date.parse(d.fecha)))\r\n                .range([0, width_gr]);\r\n\r\n            // eje x\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-x\")\r\n                .attr(\"transform\", \"translate(0,\" + height_gr + \")\")\r\n                .call(d3.axisBottom(x_gr).tickSize(0))\r\n                .selectAll(\"text\")\r\n                .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\r\n                .style(\"text-anchor\", \"end\");\r\n\r\n            let y_gr = d3.scaleLinear()\r\n                .domain([0, d3.max(datos, (d) => d.acumulado * 1.1)])\r\n                .range([height_gr, 0]);\r\n\r\n            // eje y\r\n            /*\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-y\")\r\n                .call(d3.axisLeft(y_gr).tickSize(0).tickFormat(d3.format(\"d\")));\r\n            */\r\n\r\n            // eje y derecho \r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-y\")\r\n                .attr(\"transform\", \"translate( \" + width_gr + \", 0 )\")\r\n                .call(d3.axisRight(y_gr).tickSize(0).tickFormat(d3.format(\"d\")));\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"grid-grafica\")\r\n                .attr(\"transform\", \"translate(0,\" + height_gr + \")\")\r\n                .call(d3.axisBottom(x_gr)\r\n                    .ticks(5)\r\n                    .tickSize(-height_gr)\r\n                    .tickFormat(\"\")\r\n                )\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"grid-grafica\")\r\n                .call(d3.axisLeft(y_gr)\r\n                    .ticks(5)\r\n                    .tickSize(-width_gr)\r\n                    .tickFormat(\"\")\r\n                )\r\n\r\n            // líneas\r\n            svg.append(\"path\")\r\n                .datum(datos)\r\n                .attr(\"fill\", \"none\")\r\n                .attr(\"stroke\", \"orange\")\r\n                .attr(\"stroke-width\", 2.5)\r\n                .attr(\"d\", d3.line()\r\n                    .x((d) => x_gr(Date.parse(d.fecha)))\r\n                    .y((d) => y_gr(d.acumulado))\r\n                )\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"x\", (width_gr / 2))             \r\n                .attr(\"y\", height_gr + (margin_gr.bottom / 2))\r\n                .attr(\"class\", \"tit-grafica\")\r\n                .style('fill', 'darkOrange')\r\n                .text(\"Evolución del número de satélites activos\");\r\n\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.muestraGrafica();\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"gr\" className=\"grafica\">\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Grafica;\r\n","import React, { Component } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport \"./Paises.css\";\r\n\r\nfunction onlyUnique(value, index, self) {\r\n  return self.indexOf(value) === index;\r\n}\r\n\r\nclass Paises extends Component {\r\n  muestraPaises() {\r\n    let datos = [];\r\n    let mapaPaises = new Map();\r\n    let civ = [1, 0, 0, 0, 0];\r\n    let gov = [0, 1, 0, 0, 0];\r\n    let mil = [0, 0, 1, 0, 0];\r\n    let com = [0, 0, 0, 1, 0];\r\n    let total = [0, 0, 0, 0, 1];\r\n\r\n    this.props.estaciones\r\n      .map((s) => {\r\n        return s.datos.pais_operador;\r\n      })\r\n      .filter(onlyUnique)\r\n      .map((item) => mapaPaises.set(item, [0, 0, 0, 0, 0]));\r\n\r\n    this.props.estaciones.forEach((s) => {\r\n      if (s.datos.usos.indexOf(\"Civil\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + civ[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Government\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + gov[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Military\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + mil[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Commercial\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + com[i])\r\n        );\r\n      }\r\n\r\n      mapaPaises.set(\r\n        s.datos.pais_operador,\r\n        mapaPaises.get(s.datos.pais_operador).map((v, i) => v + total[i])\r\n      );\r\n    });\r\n\r\n    mapaPaises.forEach((valor, clave) => {\r\n      datos.push({\r\n        pais_operador: clave,\r\n        civ: valor[0],\r\n        gov: valor[1],\r\n        mil: valor[2],\r\n        com: valor[3],\r\n        recuento: valor[4],\r\n      });\r\n    });\r\n\r\n    datos = datos.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n\r\n    if (datos.length <= 0) {\r\n      d3.select(\".paises\").remove();\r\n      return;\r\n    }\r\n\r\n    let data = [];\r\n    if (datos.length === 1) {\r\n      data = [\r\n        { pais_operador: \"Civil\", recuento: datos[0].civ },\r\n        { pais_operador: \"Gubernamental\", recuento: datos[0].gov },\r\n        { pais_operador: \"Militar\", recuento: datos[0].mil },\r\n        { pais_operador: \"Comercial\", recuento: datos[0].com },\r\n      ].filter((d) => d.recuento > 0);\r\n\r\n      data = data.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n    } else {\r\n      data = datos\r\n        .map((item) => {\r\n          return { pais_operador: item.pais_operador, recuento: item.recuento };\r\n        })\r\n        .filter((item, i) => i > datos.length - 16);\r\n    }\r\n\r\n    let margin = { top: 60, right: 60, bottom: 80, left: 120 };\r\n    let width = 650 - margin.left - margin.right;\r\n    let height = 50 * data.length;\r\n\r\n    let svg_paises = d3\r\n      .select(\"#gr-paises\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"paises\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    let y = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.pais_operador))\r\n      .range([height, 0])\r\n      .padding(0.1);\r\n\r\n    // eje y\r\n    svg_paises\r\n      .append(\"g\")\r\n      .attr(\"class\", \"eje-y-paises\")\r\n      .call(d3.axisLeft(y).tickSize(0));\r\n\r\n    let x = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.recuento)])\r\n      .range([0, width]);\r\n\r\n    // barras\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#69b3a2\");\r\n      // .attr(\"fill\", \"#66c4e0\");\r\n    } else {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#d9884e\");\r\n    }\r\n\r\n    svg_paises\r\n      .selectAll(\"text.bar\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"text\")\r\n      .text(function (d) {\r\n        return d.recuento;\r\n      })\r\n      .attr(\"x\", function (d, i) {\r\n        return x(d.recuento) + 20;\r\n      })\r\n      .attr(\"y\", function (d, i) {\r\n        let alto = height / data.length;\r\n        return height - 12 - (alto * i + 5);\r\n      })\r\n      .attr(\"font-family\", \"sans-serif\")\r\n      .attr(\"font-size\", \"14px\")\r\n      .attr(\"fill\", \"white\")\r\n      .attr(\"text-anchor\", \"middle\");\r\n\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por países\");\r\n    } else {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por finalidad\");\r\n    }\r\n  }\r\n\r\n  actualizaPaises() {\r\n    let datos = [];\r\n    let mapaPaises = new Map();\r\n    let civ = [1, 0, 0, 0, 0];\r\n    let gov = [0, 1, 0, 0, 0];\r\n    let mil = [0, 0, 1, 0, 0];\r\n    let com = [0, 0, 0, 1, 0];\r\n    let total = [0, 0, 0, 0, 1];\r\n\r\n    this.props.estaciones\r\n      .map((s) => {\r\n        return s.datos.pais_operador;\r\n      })\r\n      .filter(onlyUnique)\r\n      .map((item) => mapaPaises.set(item, [0, 0, 0, 0, 0]));\r\n\r\n    this.props.estaciones.forEach((s) => {\r\n      if (s.datos.usos.indexOf(\"Civil\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + civ[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Government\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + gov[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Military\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + mil[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Commercial\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + com[i])\r\n        );\r\n      }\r\n\r\n      mapaPaises.set(\r\n        s.datos.pais_operador,\r\n        mapaPaises.get(s.datos.pais_operador).map((v, i) => v + total[i])\r\n      );\r\n    });\r\n\r\n    mapaPaises.forEach((valor, clave) => {\r\n      datos.push({\r\n        pais_operador: clave,\r\n        civ: valor[0],\r\n        gov: valor[1],\r\n        mil: valor[2],\r\n        com: valor[3],\r\n        recuento: valor[4],\r\n      });\r\n    });\r\n\r\n    datos = datos.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n\r\n    if (datos.length <= 0) {\r\n      d3.select(\".paises\").remove();\r\n      return;\r\n    }\r\n\r\n    let data = [];\r\n    if (datos.length === 1) {\r\n      data = [\r\n        { pais_operador: \"Civil\", recuento: datos[0].civ },\r\n        { pais_operador: \"Gubernamental\", recuento: datos[0].gov },\r\n        { pais_operador: \"Militar\", recuento: datos[0].mil },\r\n        { pais_operador: \"Comercial\", recuento: datos[0].com },\r\n      ].filter((d) => d.recuento > 0);\r\n\r\n      data = data.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n    } else {\r\n      data = datos\r\n        .map((item) => {\r\n          return { pais_operador: item.pais_operador, recuento: item.recuento };\r\n        })\r\n        .filter((item, i) => i > datos.length - 16);\r\n    }\r\n\r\n    let margin = { top: 80, right: 60, bottom: 80, left: 120 };\r\n    let width = 600 - margin.left - margin.right;\r\n\r\n    let height = 50 * data.length;\r\n\r\n    let svg_paises = d3.select(\".paises\").remove();\r\n\r\n    svg_paises = d3\r\n      .select(\"#gr-paises\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"paises\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    let y = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.pais_operador))\r\n      .range([height, 0])\r\n      .padding(0.1);\r\n\r\n    // eje y\r\n    svg_paises\r\n      .append(\"g\")\r\n      .attr(\"class\", \"eje-y-paises\")\r\n      .call(d3.axisLeft(y).tickSize(0));\r\n\r\n    let x = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.recuento)])\r\n      .range([0, width]);\r\n\r\n    // barras\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#69b3a2\");\r\n      // .attr(\"fill\", \"#66c4e0\");\r\n    } else {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#d9884e\");\r\n    }\r\n\r\n    svg_paises\r\n      .selectAll(\"text.bar\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"text\")\r\n      .text(function (d) {\r\n        return d.recuento;\r\n      })\r\n      .attr(\"x\", function (d, i) {\r\n        return x(d.recuento) + 20;\r\n      })\r\n      .attr(\"y\", function (d, i) {\r\n        let alto = height / data.length;\r\n        return height - 12 - (alto * i + 5);\r\n      })\r\n      .attr(\"font-family\", \"sans-serif\")\r\n      .attr(\"font-size\", \"14px\")\r\n      .attr(\"fill\", \"white\")\r\n      .attr(\"text-anchor\", \"middle\");\r\n\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por países\");\r\n    } else {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por finalidad\");\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.muestraPaises();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.actualizaPaises();\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"gr-paises\" className=\"grafica-paises\"></div>;\r\n  }\r\n}\r\n\r\nexport default Paises;\r\n","import React from \"react\";\r\nimport \"./MostrarOrbita.css\";\r\n\r\nconst MostrarOrbita = (props) => {\r\n  const deshabilitado = props.deshabilitado;\r\n  const marcado = props.marcado;\r\n\r\n  return (\r\n    <div className=\"mostrar-orbita\">\r\n        <form className=\"form-mostrar-orbita\">\r\n          <input \r\n            disabled={deshabilitado} \r\n            type=\"checkbox\"\r\n            id=\"mostrarOrbita\"\r\n            name=\"mostrar_orbita\"\r\n            onChange={props.onChange}\r\n            checked={marcado}\r\n          />\r\n          <label htmlFor=\"mostrarOrbita\">Mostrar órbitas</label>\r\n        </form>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default MostrarOrbita;\r\n","import React, { Component } from \"react\";\n\nimport \"./App.css\";\nimport { Sats } from \"./util/Sats\";\nimport * as d3 from \"d3\";\nimport data from \"./datos/datos.csv\";\nimport ClaseOrbita from \"./ClaseOrbita\";\nimport Usos from \"./Usos\";\nimport PaisOperador from \"./PaisOperador\";\nimport Contador from \"./Contador\";\nimport ResetView from \"./ResetView\";\nimport Reset from \"./Reset\";\nimport Grafica from \"./Grafica\";\nimport Paises from \"./Paises\";\nimport MostrarOrbita from \"./MostrarOrbita\";\n\n\nlet estaciones = [];\nlet dictEstaciones = {};\nlet paises_operadores = [\"todos\"];\n\n\nfunction cors(url) {\n  return \"https://api.allorigins.win/raw?url=\" + url;\n}\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sats = new Sats();\n\n    this.state = {\n      stations: [],\n      selected: null,\n      claseOrbita: { LEO: true, GEO: true, MEO: true, Elliptical: true },\n      pais_operador: \"todos\",\n      usos: \"todos\",\n      paises_operadores: [],\n      mostrar_orbita: false,\n      mostrar_orbita_disabled : true\n    };\n  }\n\n  componentDidMount() {\n    this.sats.initialize(this.vista);\n    this.actualizar();\n    setInterval(() => {\n      this.sats.updateAllPositions(new Date());\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    this.sats.dispose();\n  }\n\n  onChangeClaseOrbitaHandler = (b) => {\n    let clases = this.state.claseOrbita;\n    clases[b.target.value] = b.target.checked;\n\n    this.sats.quitarSatelites();\n    this.setState({ claseOrbita: clases });\n\n    this.actualizar();\n  };\n\n  onChangeUsosHandler = (b) => {\n    this.sats.quitarSatelites();\n    this.setState({ usos: b.target.value });\n\n    this.actualizar();\n  };\n\n  onChangePaisOperadorHandler = (b) => {\n    this.sats.quitarSatelites();\n    this.setState({ pais_operador: b.target.value });\n\n    this.actualizar();\n  };\n\n  onChangeMostrarOrbita  = (b) => {\n    if (!b.target.checked) {\n      this.sats.borraOrbitas(this.state.stations);\n    }\n    this.setState({ mostrar_orbita: b.target.checked });\n    this.actualizar();\n  }\n\n  onClickResetViewHandler = () => {\n    this.sats.resetView();\n  };\n\n  onClickResetFormulario = () => {\n\n    this.setState({\n      stations: [],\n      selected: null,\n      claseOrbita: { LEO: true, GEO: true, MEO: true, Elliptical: true },\n      pais_operador: \"todos\",\n      usos: \"todos\",\n      paises_operadores: [],\n    });\n\n    this.actualizar();\n\n\n  }\n\n\n\n  actualizar = () => {\n    d3.csv(data).then((datos) => {\n      estaciones = datos\n        .filter((s) => {\n          let claseOrbitaBooleano =\n            (s.clase_orbita === \"LEO\" && this.state.claseOrbita[\"LEO\"]) ||\n            (s.clase_orbita === \"GEO\" && this.state.claseOrbita[\"GEO\"]) ||\n            (s.clase_orbita === \"MEO\" && this.state.claseOrbita[\"MEO\"]) ||\n            (s.clase_orbita === \"Elliptical\" &&\n              this.state.claseOrbita[\"Elliptical\"]);\n\n          let usosBooleano = true;\n\n          if (this.state.usos !== \"todos\") {\n            usosBooleano = s.usos.indexOf(this.state.usos) !== -1;\n          }\n\n          let paisOperadorBooleano = true;\n\n          if (this.state.pais_operador !== \"todos\") {\n            paisOperadorBooleano = s.pais_operador === this.state.pais_operador;\n          }\n\n          if (claseOrbitaBooleano && usosBooleano && paisOperadorBooleano)\n            return true;\n          else return false;\n        })\n        .map((fila) => {\n          if (!paises_operadores.includes(fila[\"pais_operador\"])) {\n            paises_operadores.push(fila[\"pais_operador\"]);\n          }\n\n          return {\n            id_norad: fila[\"NORAD\"],\n            nombre: fila[\"nombre\"],\n            nombre_oficial: fila[\"nombre_oficial\"],\n            pais_operador: fila[\"pais_operador\"],\n            usos: fila[\"usos\"],\n            clase_orbita: fila[\"clase_orbita\"],\n            fecha: fila[\"fecha\"],\n          };\n        });\n\n      dictEstaciones = {};\n      estaciones.forEach((item) => {\n        dictEstaciones[item.id_norad] = item;\n      });\n\n      this.sats\n        .loadLteFileStations(\n          // active,\n          cors(\"http://www.celestrak.com/NORAD/elements/active.txt\"),\n          0xffdbab,\n          dictEstaciones,\n          this.state.mostrar_orbita\n        )\n        .then((stations) => {\n\n          let mostrar_orbita;\n          let mostrar_orbita_disabled;\n\n          if (stations.length > 100) {\n            mostrar_orbita_disabled = true;\n            mostrar_orbita = false;\n\n            this.setState({\n              stations: stations,\n              paises_operadores: paises_operadores,\n              mostrar_orbita_disabled: mostrar_orbita_disabled,\n              mostrar_orbita: mostrar_orbita\n            });\n  \n          } else {\n            mostrar_orbita_disabled = false;\n\n            this.setState({\n              stations: stations,\n              paises_operadores: paises_operadores,\n              mostrar_orbita_disabled: mostrar_orbita_disabled\n            });\n          }\n\n          // console.log(stations);\n        });\n    });\n  };\n\n  render() {\n\n    // console.log(this.state);\n\n    return (\n      <div className=\"pra\">\n        <div className=\"cabecera\">Satélites artificiales en tiempo real</div>\n\n        <div className=\"bloque1\">\n          <div\n            className=\"satelites\"\n            ref={(elemento) => (this.vista = elemento)}\n          />\n          <div className=\"controles\">\n            <ClaseOrbita\n              checked_LEO={this.state.claseOrbita[\"LEO\"]}\n              checked_GEO={this.state.claseOrbita[\"GEO\"]}\n              checked_MEO={this.state.claseOrbita[\"MEO\"]}\n              checked_Elliptical={this.state.claseOrbita[\"Elliptical\"]}\n              onChange={this.onChangeClaseOrbitaHandler}\n            />\n            <Usos\n              onChange={this.onChangeUsosHandler}\n              selected={this.state.usos}\n            />\n            <PaisOperador\n              onChange={this.onChangePaisOperadorHandler}\n              paisesOperadores={this.state.paises_operadores}\n              selected={this.state.pais_operador}\n            />\n            <MostrarOrbita \n              deshabilitado={this.state.mostrar_orbita_disabled} \n              marcado={this.state.mostrar_orbita} \n              onChange={this.onChangeMostrarOrbita}/>\n            <Contador total={this.state.stations.length}/>\n            <div className=\"botonera\">\n              <ResetView onClick={this.onClickResetViewHandler} />\n              <Reset onClick={this.onClickResetFormulario} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bloque2\">\n          <Grafica />\n          <Paises estaciones={this.state.stations} />\n        </div>\n        <div className=\"pie\"></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}