{"version":3,"sources":["img/earth_nasa_2012_2000x1000.jpg","util/tle.js","util/Sats.js","img/circle.png","datos/datos.csv","ClaseOrbita.js","Usos.js","PaisOperador.js","ResetView.js","Reset.js","datos/acumulados.csv","Grafica.js","Paises.js","App.js","index.js"],"names":["toThree","v","x","y","z","getSolution","station","date","satrec","tle1","tle2","satellite","getPositionFromTle","type","positionVelocity","positionEci","position","gmst","positionEcf","hoy","Date","defaultOptions","backgroundColor","defaultSatelliteColor","onStationClicked","defaultStationOptions","orbitMinutes","satelliteSize","Sats","stations","targetList","handleWindowResize","renderer","setSize","camera","aspect","width","updateProjectionMatrix","render","loadLteFileStations","url","color","dictEstaciones","stationOptions","options","fetch","then","res","ok","text","lteFileContent","fileContent","result","lines","split","current","id_norad","i","length","line","trim","toString","datos","name","push","filter","item","parseTleFile","forEach","s","material","_satelliteSprite","THREE","load","map","sizeAttenuation","scale","set","sat","pos","mesh","addOrbit","earth","add","revsPerDay","no","minutes","initialDate","orbitMaterial","opacity","transparent","points","getTime","geometry","setFromPoints","orbitCurve","orbit","removeOrbit","remove","dispose","updateSatellitePosition","updateAllPositions","scene","this","lookAt","apply","children","sun","ambient","textLoader","group","earthRadius","side","flatShading","earthmap","container","vista","raycaster","height","NEAR","FAR","controls","OrbitControls","enablePan","addEventListener","logarithmicDepthBuffer","antialias","setClearColor","appendChild","domElement","window","removeEventListener","ClaseOrbita","props","c1","checked_LEO","c2","checked_GEO","c3","checked_MEO","c4","checked_Elliptical","className","id","value","onChange","checked","htmlFor","Usos","selected","PaisOperador","paisesOperadores","pais","ResetView","onClick","Reset","Grafica","margin_gr","width_gr","height_gr","svg","d3","append","attr","acumulados","x_gr","domain","range","call","tickSize","selectAll","style","y_gr","d","acumulado","tickFormat","ticks","datum","parse","fecha","muestraGrafica","Component","onlyUnique","index","self","indexOf","Paises","mapaPaises","Map","civ","gov","mil","com","total","estaciones","pais_operador","usos","get","valor","clave","recuento","slice","sort","a","b","data","margin","svg_paises","padding","enter","bandwidth","alto","muestraPaises","actualizaPaises","paises_operadores","App","onChangeClaseOrbitaHandler","clases","state","claseOrbita","target","sats","quitarSatelites","setState","actualizar","onChangeUsosHandler","onChangePaisOperadorHandler","onClickResetViewHandler","resetView","onClickResetFormulario","LEO","GEO","MEO","Elliptical","claseOrbitaBooleano","clase_orbita","usosBooleano","paisOperadorBooleano","fila","includes","nombre","nombre_oficial","console","log","initialize","setInterval","ref","elemento","ReactDOM","document","getElementById"],"mappings":"qXAAe,MAA0B,sD,QCuCnCA,EAAU,SAACC,GACf,MAAO,CAAEC,EAAGD,EAAEC,EAAGC,EAAGF,EAAEG,EAAGA,GAAIH,EAAEE,IAG3BE,EAAc,SAACC,EAASC,GAC5B,IAAKD,EAAQE,OAAQ,CACnB,IAAQC,EAAeH,EAAfG,KAAMC,EAASJ,EAATI,KACd,IAAKD,IAASC,EAAM,OAAO,KAC3BJ,EAAQE,OAASG,iBAAyBF,EAAMC,GAGlD,OAAOC,YAAoBL,EAAQE,OAAQD,IAGhCK,EAAqB,SAACN,EAASC,GAAoB,IAAdM,EAAa,uDAAN,EACvD,IAAKP,IAAYC,EAAM,OAAO,KAE9B,IAAMO,EAAmBT,EAAYC,EAASC,GACxCQ,EAAcD,EAAiBE,SAErC,GAAa,IAATH,EAAJ,CACAb,EAAQe,GAER,IAAME,EAAON,SAAiBJ,GAE9B,IAAKQ,EAAa,OAAO,KAEzB,IAAMG,EAAcP,WAAmBI,EAAaE,GAEpD,OAAOjB,EAAQkB,K,OC7DbC,EAAM,IAAIC,KAERC,EAAiB,CACrBC,gBAAiB,QACjBC,sBAAuB,SACvBC,iBAAkB,MAGdC,EAAwB,CAC5BC,aAAc,EACdC,cAAe,IAGJC,EAAb,4DACEC,SAAW,GADb,KAEEC,WAAa,GAFf,KAuGEC,mBAAqB,WAInB,EAAKC,SAASC,QAHA,IACC,KAGf,EAAKC,OAAOC,OAASC,EACrB,EAAKF,OAAOG,yBACZ,EAAKC,UA9GT,KAiHEC,oBAAsB,SAACC,EAAKC,EAAOC,EAAgBC,GACjD,IAAMC,EAAO,2BAAQnB,GAA0BkB,GAE/C,OAAOE,MAAML,GAAKM,MAAK,SAACC,GACtB,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAAOH,MAAK,SAACI,GACtB,IAAMrB,EDvIY,SAACsB,EAAaT,EAAgBC,GAMxD,IALA,IAAMS,EAAS,GACTC,EAAQF,EAAYG,MAAM,MAC5BC,EAAU,KACVC,EAAW,IAENC,EAAI,EAAGA,EAAIJ,EAAMK,SAAUD,EAAG,CACrC,IAAME,EAAON,EAAMI,GAAGG,OAEF,IAAhBD,EAAKD,SAEO,MAAZC,EAAK,GACPJ,EAAQ9C,KAAOkD,EACM,MAAZA,EAAK,IACdJ,EAAQ7C,KAAOiD,GACfH,EAAWG,EAAKL,MAAM,KAAK,KAEzBC,EAAQC,SAAWA,EAASK,WAAWD,OACvCL,EAAQO,MAAQpB,EAAec,IAE/BD,EAAQC,SAAW,MAGrBD,EAAO,aACLQ,KAAMJ,GACHhB,GAELS,EAAOY,KAAKT,KAKhB,OADgBH,EAAOa,QAAO,SAACC,GAAD,OAAUA,EAAKJ,SCwGpBK,CACfjB,EACAR,EACAE,GAGMjB,EAAkBiB,EAAlBjB,cAwCR,OAtCAE,EAASuC,SAAQ,SAACC,GAGX,EAAKC,WACR,EAAKC,kBAAmB,IAAIC,KAAsBC,KCvJjD,yvEDyJC,EAAKnC,QAEP,EAAKgC,SAAW,IAAIE,IAAqB,CACvCE,IAAK,EAAKH,iBACV9B,MAAOA,EACPkC,iBAAiB,KAIrB,IAAMvB,EAAS,IAAIoB,IAAa,EAAKF,UAErClB,EAAOwB,MAAMC,IACXlD,EAjBwB,IAkBxBA,EAlBwB,IAmBxB,GAGF,IAAMmD,EAAM1B,EACN2B,EAAMnE,EAAmByD,EAAGlD,GAC7B4D,IAELD,EAAI9D,SAAS6D,IAAIE,EAAI7E,EAAG6E,EAAI5E,EAAG4E,EAAI3E,GACnCiE,EAAEW,KAAOF,EACT,EAAKjD,SAASmC,KAAKK,GAEfA,EAAE3C,aAAe,GAAG,EAAKuD,SAASZ,GAEtC,EAAKa,MAAMC,IAAIL,OAGjB,EAAKxC,SAEET,SArKjB,KA2KEoD,SAAW,SAAC3E,GACV,KAAIA,EAAQoB,aAAe,GAA3B,CAEA,IAAM0D,EAAa9E,EAAQE,OAAO6E,IAAM,kBAElCC,EAAUhF,EAAQoB,cAAgB,KAAO0D,EACzCG,EAAc,IAAInE,KAEnB,EAAKoE,gBACR,EAAKA,cAAgB,IAAIhB,IAAwB,CAC/C/B,MAAO,SACPgD,QAAS,GACTC,aAAa,KAMjB,IAFA,IAAIC,EAAS,GAEJlC,EAAI,EAAGA,GAAK6B,EAAS7B,GAdN,EAc4B,CAClD,IAAMlD,EAAO,IAAIa,KAAKmE,EAAYK,UAAgB,IAAJnC,GAExCsB,EAAMnE,EAAmBN,EAASC,GACnCwE,GAELY,EAAO3B,KAAK,IAAIQ,IAAcO,EAAI7E,EAAG6E,EAAI5E,EAAG4E,EAAI3E,IAGlD,IAAMyF,GAAW,IAAIrB,KAAuBsB,cAAcH,GACtDI,EAAa,IAAIvB,IAAWqB,EAAU,EAAKL,eAC/ClF,EAAQ0F,MAAQD,EAEhB,EAAKb,MAAMC,IAAIY,GACf,EAAKzD,WA3MT,KA8ME2D,YAAc,SAAC3F,GACRA,GAAYA,EAAQ0F,QAEzB,EAAKd,MAAMgB,OAAO5F,EAAQ0F,OAC1B1F,EAAQ0F,MAAMH,SAASM,UACvB7F,EAAQ0F,MAAQ,KAChB1F,EAAQ0E,KAAKV,SAAW,EAAKA,SAC7B,EAAKhC,WArNT,KAwNE8D,wBAA0B,SAAC9F,EAASC,GAGlC,IAAMwE,EAAMnE,EAAmBN,EAF/BC,EAAOA,GAAQY,GAGV4D,GAELzE,EAAQ0E,KAAKhE,SAAS6D,IAAIE,EAAI7E,EAAG6E,EAAI5E,EAAG4E,EAAI3E,IA9NhD,KAiOEiG,mBAAqB,SAAC9F,GACf,EAAKsB,WAEV,EAAKA,SAASuC,SAAQ,SAAC9D,GACrB,EAAK8F,wBAAwB9F,EAASC,MAGxC,EAAK+B,WAxOT,KA2OEA,OAAS,WACP,EAAKN,SAASM,OAAO,EAAKgE,MAAO,EAAKpE,SA5O1C,6CAIE,WACEqE,KAAKrE,OAAOlB,SAASZ,GAAK,KAC1BmG,KAAKrE,OAAOlB,SAASb,EAAI,KACzBoG,KAAKrE,OAAOlB,SAASd,EAAI,KACzBqG,KAAKrE,OAAOsE,OAAO,EAAG,EAAG,GACzBD,KAAKjE,WATT,6BAYE,WACEiE,KAAKD,MAAMJ,OAAOO,MAAMF,KAAKD,MAAOC,KAAKD,MAAMI,UAE/CH,KAAK1E,SAAW,GAChB,IAAM8E,EAAM,IAAInC,IAAiB,SAAU,EAAG,GAC9CmC,EAAI3F,SAAS6D,IAAI,EAAG,GAAI,QACxB,IAAM+B,EAAU,IAAIpC,IAAmB,SACvC+B,KAAKD,MAAMnB,IAAIwB,GACfJ,KAAKD,MAAMnB,IAAIyB,GAEf,IAAMC,EAAa,IAAIrC,IACjBsC,EAAQ,IAAItC,IAEdqB,EAAW,IAAIrB,IAAqBuC,cAAa,GAAI,IACrDzC,EAAW,IAAIE,IAAwB,CACzCwC,KAAMxC,IACNyC,aAAa,EACbvC,IAAKmC,EAAWpC,KAAKyC,EAAUX,KAAKjE,UAGhC4C,EAAQ,IAAIV,IAAWqB,EAAUvB,GACvCwC,EAAM3B,IAAID,GAEVqB,KAAKrB,MAAQ4B,EACbP,KAAKD,MAAMnB,IAAIoB,KAAKrB,OAEpBqB,KAAKjE,WAtCT,wBAyCE,SAAW6E,GAA0B,IAAD,OAAdvE,EAAc,uDAAJ,GAC9B2D,KAAKa,MAAQD,EACbZ,KAAKc,UAAY,IAAI7C,IACrB+B,KAAK3D,QAAL,2BAAoBvB,GAAmBuB,GAEvC,IAAMR,EAAQ,IACRkF,EAAS,IAEff,KAAKD,MAAQ,IAAI9B,IAEjB,IAAI+C,EAAO,KACPC,EAAM,KACVjB,KAAKrE,OAAS,IAAIsC,IAAwB,GAAIpC,EAAQkF,EAAQC,EAAMC,GACpEjB,KAAKkB,SAAW,IAAIC,IAAcnB,KAAKrE,OAAQqE,KAAKa,OACpDb,KAAKkB,SAASE,WAAY,EAC1BpB,KAAKkB,SAASG,iBAAiB,UAAU,kBAAM,EAAKtF,YACpDiE,KAAKrE,OAAOlB,SAASZ,GAAK,KAC1BmG,KAAKrE,OAAOlB,SAASb,EAAI,KACzBoG,KAAKrE,OAAOlB,SAASd,EAAI,KACzBqG,KAAKrE,OAAOsE,OAAO,EAAG,EAAG,GAEzBD,KAAKvE,SAAW,IAAIwC,IAAoB,CACtCqD,wBAAwB,EACxBC,WAAW,IAGbvB,KAAKvE,SAAS+F,cAAc,IAAIvD,IAAY+B,KAAK3D,QAAQtB,kBACzDiF,KAAKvE,SAASC,QAAQG,EAAOkF,GAE7Bf,KAAKa,MAAMY,YAAYzB,KAAKvE,SAASiG,YAErC,IAAMtB,EAAM,IAAInC,IAAiB,SAAU,EAAG,GAC9CmC,EAAI3F,SAAS6D,IAAI,EAAG,GAAI,QACxB,IAAM+B,EAAU,IAAIpC,IAAmB,SACvC+B,KAAKD,MAAMnB,IAAIwB,GACfJ,KAAKD,MAAMnB,IAAIyB,GAEf,IAAMC,EAAa,IAAIrC,IACjBsC,EAAQ,IAAItC,IAEdqB,EAAW,IAAIrB,IAAqBuC,cAAa,GAAI,IACrDzC,EAAW,IAAIE,IAAwB,CACzCwC,KAAMxC,IACNyC,aAAa,EACbvC,IAAKmC,EAAWpC,KAAKyC,EAAUX,KAAKjE,UAGhC4C,EAAQ,IAAIV,IAAWqB,EAAUvB,GACvCwC,EAAM3B,IAAID,GACVqB,KAAKrB,MAAQ4B,EACbP,KAAKD,MAAMnB,IAAIoB,KAAKrB,OACpBqB,KAAKjE,SACL4F,OAAON,iBAAiB,SAAUrB,KAAKxE,sBA7F3C,qBAgGE,WACEmG,OAAOC,oBAAoB,SAAU5B,KAAKxE,oBAC1CwE,KAAKc,UAAY,KACjBd,KAAKa,MAAQ,KACbb,KAAKkB,SAAStB,cApGlB,K,OEpBe,MAA0B,kC,gBC2D1BiC,EAxDK,SAACC,GACnB,IAAMC,EAAKD,EAAME,YACXC,EAAKH,EAAMI,YACXC,EAAKL,EAAMM,YACXC,EAAKP,EAAMQ,mBAEjB,OACE,sBAAKC,UAAU,eAAf,UACE,qBAAKA,UAAU,mBAAf,+BACA,qBAAKA,UAAU,sBAAf,SACE,uBAAMA,UAAU,oBAAhB,UACE,uBACEjI,KAAK,WACLkI,GAAG,MACHhF,KAAK,eACLiF,MAAM,MACNC,SAAUZ,EAAMY,SAChBC,QAASZ,IAEX,uBAAOa,QAAQ,MAAf,+BACA,uBACA,uBACEtI,KAAK,WACLkI,GAAG,MACHhF,KAAK,eACLiF,MAAM,MACNC,SAAUZ,EAAMY,SAChBC,QAASV,IAEX,uBAAOW,QAAQ,MAAf,mCACA,uBACA,uBACEtI,KAAK,WACLkI,GAAG,MACHhF,KAAK,eACLiF,MAAM,MACNC,SAAUZ,EAAMY,SAChBC,QAASR,IAEX,uBAAOS,QAAQ,MAAf,gCACA,uBACA,uBACEtI,KAAK,WACLkI,GAAG,MACHhF,KAAK,eACLiF,MAAM,aACNC,SAAUZ,EAAMY,SAChBC,QAASN,IAEX,uBAAOO,QAAQ,MAAf,0CCxBKC,G,OAzBF,SAACf,GACZ,OACE,qBAAKS,UAAU,OAAf,SACE,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,WAAf,0BAEA,sBAAMA,UAAU,YAAhB,SACE,yBACE/E,KAAK,OACLgF,GAAG,cACHE,SAAUZ,EAAMY,SAChBD,MAAOX,EAAMgB,SAJf,UAME,wBAAQL,MAAM,QAAd,mBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,aAAd,2BACA,wBAAQA,MAAM,WAAd,qBACA,wBAAQA,MAAM,aAAd,mCCFGM,G,OAfM,SAACjB,GAElB,OACI,sBAAKS,UAAU,gBAAf,UACA,qBAAKA,UAAU,oBAAf,8BAEA,sBAAMA,UAAU,qBAAhB,SACI,wBAAQ/E,KAAK,eAAegF,GAAG,OAAOE,SAAUZ,EAAMY,SAAUD,MAAOX,EAAMgB,SAA7E,SACKhB,EAAMkB,iBAAiB7E,KAAI,SAAC8E,GAAD,OAAU,wBAAmBR,MAAOQ,EAA1B,SAAiCA,GAApBA,eCApDC,G,OARG,SAACpB,GACjB,OACE,qBAAKS,UAAU,aAAf,SACE,wBAAQA,UAAU,mBAAmBY,QAASrB,EAAMqB,QAApD,iCCKSC,G,OARD,SAACtB,GACb,OACE,qBAAKS,UAAU,QAAf,SACE,wBAAQA,UAAU,cAAcY,QAASrB,EAAMqB,QAA/C,iCCNS,MAA0B,uCC+G1BE,G,2KAtGX,WAEI,IAAIC,EAAqB,GAArBA,EAAkC,GAAlCA,EAAgD,IAAhDA,EAA6D,GAC7DC,EAAW,IAAMD,EAAiBA,EAClCE,EAAY,IAAMF,EAAgBA,EAEhCG,EAAMC,IACA,OACPC,OAAO,OACPC,KAAK,QAAS,eACdA,KAAK,QAASL,EAAWD,EAAiBA,GAC1CM,KAAK,SAAUJ,EAAYF,EAAgBA,GAC3CK,OAAO,KACPC,KAAK,YAAa,aAAeN,EAAiB,IAAMA,EAAgB,KAI7EI,IAAOG,GAAYtH,MAAK,SAACgB,GAErB,IAAIuG,EAAOJ,MACNK,OAAO,CAAC,IAAIlJ,KAAK,cAAe,IAAIA,KAAK,gBAEzCmJ,MAAM,CAAC,EAAGT,IAGfE,EAAIE,OAAO,KACNC,KAAK,QAAS,SACdA,KAAK,YAAa,eAAiBJ,EAAY,KAC/CS,KAAKP,IAAcI,GAAMI,SAAS,IAClCC,UAAU,QACVP,KAAK,YAAa,+BAClBQ,MAAM,cAAe,OAE1B,IAAIC,EAAOX,MACNK,OAAO,CAAC,EAAGL,IAAOnG,GAAO,SAAC+G,GAAD,OAAqB,IAAdA,EAAEC,eAClCP,MAAM,CAACR,EAAW,IAGvBC,EAAIE,OAAO,KACNC,KAAK,QAAS,SACdK,KAAKP,IAAYW,GAAMH,SAAS,GAAGM,WAAWd,IAAU,OAI7DD,EAAIE,OAAO,KACNC,KAAK,QAAS,SACdA,KAAK,YAAa,cAAgBL,EAAW,SAC7CU,KAAKP,IAAaW,GAAMH,SAAS,GAAGM,WAAWd,IAAU,OAE9DD,EAAIE,OAAO,KACNC,KAAK,QAAS,gBACdA,KAAK,YAAa,eAAiBJ,EAAY,KAC/CS,KAAKP,IAAcI,GACfW,MAAM,GACNP,UAAUV,GACVgB,WAAW,KAGpBf,EAAIE,OAAO,KACNC,KAAK,QAAS,gBACdK,KAAKP,IAAYW,GACbI,MAAM,GACNP,UAAUX,GACViB,WAAW,KAIpBf,EAAIE,OAAO,QACNe,MAAMnH,GACNqG,KAAK,OAAQ,QACbA,KAAK,SAAU,UACfA,KAAK,eAAgB,KACrBA,KAAK,IAAKF,MACN/J,GAAE,SAAC2K,GAAD,OAAOR,EAAKjJ,KAAK8J,MAAML,EAAEM,WAC3BhL,GAAE,SAAC0K,GAAD,OAAOD,EAAKC,EAAEC,eAGzBd,EAAIE,OAAO,QACNC,KAAK,IAAML,EAAW,GACtBK,KAAK,IAAKJ,EAAaF,EAAmB,GAC1CM,KAAK,QAAS,eACdQ,MAAM,OAAQ,cACd1H,KAAK,2D,+BAKlB,WACIsD,KAAK6E,mB,oBAIT,WACI,OACI,qBAAKrC,GAAG,KAAKD,UAAU,gB,GAhGbuC,cCJtB,SAASC,EAAWtC,EAAOuC,EAAOC,GAChC,OAAOA,EAAKC,QAAQzC,KAAWuC,E,IA8XlBG,E,mKA1Xb,WACE,IAAI5H,EAAQ,GACR6H,EAAa,IAAIC,IACjBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,GAsDzB,GApDA1F,KAAK8B,MAAM6D,WACRxH,KAAI,SAACL,GACJ,OAAOA,EAAEP,MAAMqI,iBAEhBlI,OAAOqH,GACP5G,KAAI,SAACR,GAAD,OAAUyH,EAAW9G,IAAIX,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,OAEnDqC,KAAK8B,MAAM6D,WAAW9H,SAAQ,SAACC,IACU,IAAnCA,EAAEP,MAAMsI,KAAKX,QAAQ,UACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI4L,EAAIpI,QAGpB,IAAxCY,EAAEP,MAAMsI,KAAKX,QAAQ,eACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI6L,EAAIrI,QAGtB,IAAtCY,EAAEP,MAAMsI,KAAKX,QAAQ,aACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI8L,EAAItI,QAGpB,IAAxCY,EAAEP,MAAMsI,KAAKX,QAAQ,eACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI+L,EAAIvI,OAIhEkI,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAIgM,EAAMxI,UAIlEkI,EAAWvH,SAAQ,SAACkI,EAAOC,GACzBzI,EAAME,KAAK,CACTmI,cAAeI,EACfV,IAAKS,EAAM,GACXR,IAAKQ,EAAM,GACXP,IAAKO,EAAM,GACXN,IAAKM,EAAM,GACXE,SAAUF,EAAM,SAIpBxI,EAAQA,EAAM2I,QAAQC,MAAK,SAACC,EAAGC,GAAJ,OAAU3C,IAAa0C,EAAEH,SAAUI,EAAEJ,cAEtD9I,QAAU,EACDuG,IAAU,WAAW/D,aADxC,CAKA,IAAI2G,EAAO,GAkBPC,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IACjD1K,EAAQ,IAAM0K,EAAcA,EAC5BxF,EAAS,IAXXuF,EARmB,IAAjB/I,EAAMJ,QACRmJ,EAAO,CACL,CAAEV,cAAe,QAASK,SAAU1I,EAAM,GAAG+H,KAC7C,CAAEM,cAAe,gBAAiBK,SAAU1I,EAAM,GAAGgI,KACrD,CAAEK,cAAe,UAAWK,SAAU1I,EAAM,GAAGiI,KAC/C,CAAEI,cAAe,YAAaK,SAAU1I,EAAM,GAAGkI,MACjD/H,QAAO,SAAC4G,GAAD,OAAOA,EAAE2B,SAAW,MAEjBC,QAAQC,MAAK,SAACC,EAAGC,GAAJ,OAAU3C,IAAa0C,EAAEH,SAAUI,EAAEJ,aAEvD1I,EACJY,KAAI,SAACR,GACJ,MAAO,CAAEiI,cAAejI,EAAKiI,cAAeK,SAAUtI,EAAKsI,aAE5DvI,QAAO,SAACC,EAAMT,GAAP,OAAaA,EAAIK,EAAMJ,OAAS,OAKrBA,OAEnBqJ,EAAa9C,IACP,cACPC,OAAO,OACPC,KAAK,QAAS,UACdA,KAAK,QAAS/H,EAAQ0K,EAAcA,GACpC3C,KAAK,SAAU7C,EAASwF,EAAaA,GACrC5C,OAAO,KACPC,KAAK,YAAa,aAAe2C,EAAc,IAAMA,EAAa,KAEjE3M,EAAI8J,MAELK,OAAOuC,EAAKnI,KAAI,SAACmG,GAAD,OAAOA,EAAEsB,kBACzB5B,MAAM,CAACjD,EAAQ,IACf0F,QAAQ,IAGXD,EACG7C,OAAO,KACPC,KAAK,QAAS,gBACdK,KAAKP,IAAY9J,GAAGsK,SAAS,IAEhC,IAAIvK,EAAI+J,MAELK,OAAO,CAAC,EAAGL,IAAO4C,GAAM,SAAChC,GAAD,OAAOA,EAAE2B,cACjCjC,MAAM,CAAC,EAAGnI,IAGT0B,EAAMJ,OAAS,EACjBqJ,EACGrC,UAAU,UACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPC,KAAK,QAAS,aACdA,KAAK,IAAKjK,EAAE,IACZiK,KAAK,KAAK,SAACU,GAAD,OAAO1K,EAAE0K,EAAEsB,kBACrBhC,KAAK,SAAS,SAACU,GAAD,OAAO3K,EAAE2K,EAAE2B,aACzBrC,KAAK,SAAUhK,EAAE+M,aACjB/C,KAAK,OAAQ,WAGhB4C,EACGrC,UAAU,UACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPC,KAAK,QAAS,aACdA,KAAK,IAAKjK,EAAE,IACZiK,KAAK,KAAK,SAACU,GAAD,OAAO1K,EAAE0K,EAAEsB,kBACrBhC,KAAK,SAAS,SAACU,GAAD,OAAO3K,EAAE2K,EAAE2B,aACzBrC,KAAK,SAAUhK,EAAE+M,aACjB/C,KAAK,OAAQ,WAGlB4C,EACGrC,UAAU,YACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPjH,MAAK,SAAU4H,GACd,OAAOA,EAAE2B,YAEVrC,KAAK,KAAK,SAAUU,EAAGpH,GACtB,OAAOvD,EAAE2K,EAAE2B,UAAY,MAExBrC,KAAK,KAAK,SAAUU,EAAGpH,GACtB,IAAI0J,EAAO7F,EAASuF,EAAKnJ,OACzB,OAAO4D,EAAS,IAAM6F,EAAO1J,EAAI,MAElC0G,KAAK,cAAe,cACpBA,KAAK,YAAa,QAClBA,KAAK,OAAQ,SACbA,KAAK,cAAe,UAEnBrG,EAAMJ,OAAS,EACjBqJ,EACG7C,OAAO,QACPC,KAAK,IAAK/H,EAAQ,GAClB+H,KAAK,IAAK,EAAI2C,EAAa,GAC3B3C,KAAK,QAAS,eACdQ,MAAM,OAAQ,SACd1H,KAAK,iCAER8J,EACG7C,OAAO,QACPC,KAAK,IAAK/H,EAAQ,GAClB+H,KAAK,IAAK,EAAI2C,EAAa,GAC3B3C,KAAK,QAAS,eACdQ,MAAM,OAAQ,SACd1H,KAAK,oC,6BAIZ,WACE,IAAIa,EAAQ,GACR6H,EAAa,IAAIC,IACjBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GACnBC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,GAsDzB,GApDA1F,KAAK8B,MAAM6D,WACRxH,KAAI,SAACL,GACJ,OAAOA,EAAEP,MAAMqI,iBAEhBlI,OAAOqH,GACP5G,KAAI,SAACR,GAAD,OAAUyH,EAAW9G,IAAIX,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,OAEnDqC,KAAK8B,MAAM6D,WAAW9H,SAAQ,SAACC,IACU,IAAnCA,EAAEP,MAAMsI,KAAKX,QAAQ,UACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI4L,EAAIpI,QAGpB,IAAxCY,EAAEP,MAAMsI,KAAKX,QAAQ,eACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI6L,EAAIrI,QAGtB,IAAtCY,EAAEP,MAAMsI,KAAKX,QAAQ,aACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI8L,EAAItI,QAGpB,IAAxCY,EAAEP,MAAMsI,KAAKX,QAAQ,eACvBE,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAI+L,EAAIvI,OAIhEkI,EAAW9G,IACTR,EAAEP,MAAMqI,cACRR,EAAWU,IAAIhI,EAAEP,MAAMqI,eAAezH,KAAI,SAACzE,EAAGwD,GAAJ,OAAUxD,EAAIgM,EAAMxI,UAIlEkI,EAAWvH,SAAQ,SAACkI,EAAOC,GACzBzI,EAAME,KAAK,CACTmI,cAAeI,EACfV,IAAKS,EAAM,GACXR,IAAKQ,EAAM,GACXP,IAAKO,EAAM,GACXN,IAAKM,EAAM,GACXE,SAAUF,EAAM,SAIpBxI,EAAQA,EAAM2I,QAAQC,MAAK,SAACC,EAAGC,GAAJ,OAAU3C,IAAa0C,EAAEH,SAAUI,EAAEJ,cAEtD9I,QAAU,EACDuG,IAAU,WAAW/D,aADxC,CAKA,IAAI2G,EAAO,GAkBPC,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IACjD1K,EAAQ,IAAM0K,EAAcA,EAE5BxF,EAAS,IAZXuF,EARmB,IAAjB/I,EAAMJ,QACRmJ,EAAO,CACL,CAAEV,cAAe,QAASK,SAAU1I,EAAM,GAAG+H,KAC7C,CAAEM,cAAe,gBAAiBK,SAAU1I,EAAM,GAAGgI,KACrD,CAAEK,cAAe,UAAWK,SAAU1I,EAAM,GAAGiI,KAC/C,CAAEI,cAAe,YAAaK,SAAU1I,EAAM,GAAGkI,MACjD/H,QAAO,SAAC4G,GAAD,OAAOA,EAAE2B,SAAW,MAEjBC,QAAQC,MAAK,SAACC,EAAGC,GAAJ,OAAU3C,IAAa0C,EAAEH,SAAUI,EAAEJ,aAEvD1I,EACJY,KAAI,SAACR,GACJ,MAAO,CAAEiI,cAAejI,EAAKiI,cAAeK,SAAUtI,EAAKsI,aAE5DvI,QAAO,SAACC,EAAMT,GAAP,OAAaA,EAAIK,EAAMJ,OAAS,OAMrBA,OAEnBqJ,EAAa9C,IAAU,WAAW/D,SAEtC6G,EAAa9C,IACH,cACPC,OAAO,OACPC,KAAK,QAAS,UACdA,KAAK,QAAS/H,EAAQ0K,EAAcA,GACpC3C,KAAK,SAAU7C,EAASwF,EAAaA,GACrC5C,OAAO,KACPC,KAAK,YAAa,aAAe2C,EAAc,IAAMA,EAAa,KAErE,IAAI3M,EAAI8J,MAELK,OAAOuC,EAAKnI,KAAI,SAACmG,GAAD,OAAOA,EAAEsB,kBACzB5B,MAAM,CAACjD,EAAQ,IACf0F,QAAQ,IAGXD,EACG7C,OAAO,KACPC,KAAK,QAAS,gBACdK,KAAKP,IAAY9J,GAAGsK,SAAS,IAEhC,IAAIvK,EAAI+J,MAELK,OAAO,CAAC,EAAGL,IAAO4C,GAAM,SAAChC,GAAD,OAAOA,EAAE2B,cACjCjC,MAAM,CAAC,EAAGnI,IAGT0B,EAAMJ,OAAS,EACjBqJ,EACGrC,UAAU,UACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPC,KAAK,QAAS,aACdA,KAAK,IAAKjK,EAAE,IACZiK,KAAK,KAAK,SAACU,GAAD,OAAO1K,EAAE0K,EAAEsB,kBACrBhC,KAAK,SAAS,SAACU,GAAD,OAAO3K,EAAE2K,EAAE2B,aACzBrC,KAAK,SAAUhK,EAAE+M,aACjB/C,KAAK,OAAQ,WAGhB4C,EACGrC,UAAU,UACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPC,KAAK,QAAS,aACdA,KAAK,IAAKjK,EAAE,IACZiK,KAAK,KAAK,SAACU,GAAD,OAAO1K,EAAE0K,EAAEsB,kBACrBhC,KAAK,SAAS,SAACU,GAAD,OAAO3K,EAAE2K,EAAE2B,aACzBrC,KAAK,SAAUhK,EAAE+M,aACjB/C,KAAK,OAAQ,WAGlB4C,EACGrC,UAAU,YACVmC,KAAKA,GACLI,QACA/C,OAAO,QACPjH,MAAK,SAAU4H,GACd,OAAOA,EAAE2B,YAEVrC,KAAK,KAAK,SAAUU,EAAGpH,GACtB,OAAOvD,EAAE2K,EAAE2B,UAAY,MAExBrC,KAAK,KAAK,SAAUU,EAAGpH,GACtB,IAAI0J,EAAO7F,EAASuF,EAAKnJ,OACzB,OAAO4D,EAAS,IAAM6F,EAAO1J,EAAI,MAElC0G,KAAK,cAAe,cACpBA,KAAK,YAAa,QAClBA,KAAK,OAAQ,SACbA,KAAK,cAAe,UAEnBrG,EAAMJ,OAAS,EACjBqJ,EACG7C,OAAO,QACPC,KAAK,IAAK/H,EAAQ,GAClB+H,KAAK,IAAK,EAAI2C,EAAa,GAC3B3C,KAAK,QAAS,eACdQ,MAAM,OAAQ,SACd1H,KAAK,iCAER8J,EACG7C,OAAO,QACPC,KAAK,IAAK/H,EAAQ,GAClB+H,KAAK,IAAK,EAAI2C,EAAa,GAC3B3C,KAAK,QAAS,eACdQ,MAAM,OAAQ,SACd1H,KAAK,oC,+BAIZ,WACEsD,KAAK6G,kB,gCAGP,WACE7G,KAAK8G,oB,oBAGP,WACE,OAAO,qBAAKtE,GAAG,YAAYD,UAAU,uB,GAvXpBuC,aCQjBa,EAAa,GACbxJ,EAAiB,GACjB4K,EAAoB,CAAC,S,IA6LVC,E,kDApLb,WAAYlF,GAAQ,IAAD,8BACjB,cAAMA,IA0BRmF,2BAA6B,SAACZ,GAC5B,IAAIa,EAAS,EAAKC,MAAMC,YACxBF,EAAOb,EAAEgB,OAAO5E,OAAS4D,EAAEgB,OAAO1E,QAElC,EAAK2E,KAAKC,kBACV,EAAKC,SAAS,CAAEJ,YAAaF,IAE7B,EAAKO,cAlCY,EAqCnBC,oBAAsB,SAACrB,GACrB,EAAKiB,KAAKC,kBACV,EAAKC,SAAS,CAAE3B,KAAMQ,EAAEgB,OAAO5E,QAE/B,EAAKgF,cAzCY,EA4CnBE,4BAA8B,SAACtB,GAC7B,EAAKiB,KAAKC,kBACV,EAAKC,SAAS,CAAE5B,cAAeS,EAAEgB,OAAO5E,QAExC,EAAKgF,cAhDY,EAmDnBG,wBAA0B,WACxB,EAAKN,KAAKO,aApDO,EAuDnBC,uBAAyB,WAEvB,EAAKN,SAAS,CACZlM,SAAU,GACVwH,SAAU,KACVsE,YAAa,CAAEW,KAAK,EAAMC,KAAK,EAAMC,KAAK,EAAMC,YAAY,GAC5DtC,cAAe,QACfC,KAAM,QACNkB,kBAAmB,KAGrB,EAAKU,cAlEY,EAyEnBA,WAAa,WACX/D,IAAO4C,GAAM/J,MAAK,SAACgB,GAhFvB,IAActB,EAiFR0J,EAAapI,EACVG,QAAO,SAACI,GACP,IAAIqK,EACkB,QAAnBrK,EAAEsK,cAA0B,EAAKjB,MAAMC,YAAX,KACT,QAAnBtJ,EAAEsK,cAA0B,EAAKjB,MAAMC,YAAX,KACT,QAAnBtJ,EAAEsK,cAA0B,EAAKjB,MAAMC,YAAX,KACT,eAAnBtJ,EAAEsK,cACD,EAAKjB,MAAMC,YAAX,WAEAiB,GAAe,EAEK,UAApB,EAAKlB,MAAMtB,OACbwC,GAAoD,IAArCvK,EAAE+H,KAAKX,QAAQ,EAAKiC,MAAMtB,OAG3C,IAAIyC,GAAuB,EAM3B,MAJiC,UAA7B,EAAKnB,MAAMvB,gBACb0C,EAAuBxK,EAAE8H,gBAAkB,EAAKuB,MAAMvB,kBAGpDuC,GAAuBE,GAAgBC,MAI5CnK,KAAI,SAACoK,GAKJ,OAJKxB,EAAkByB,SAASD,EAAI,gBAClCxB,EAAkBtJ,KAAK8K,EAAI,eAGtB,CACLtL,SAAUsL,EAAI,MACdE,OAAQF,EAAI,OACZG,eAAgBH,EAAI,eACpB3C,cAAe2C,EAAI,cACnB1C,KAAM0C,EAAI,KACVH,aAAcG,EAAI,aAClB3D,MAAO2D,EAAI,UAIjBpM,EAAiB,GACjBwJ,EAAW9H,SAAQ,SAACF,GAClBxB,EAAewB,EAAKV,UAAYU,KAGlC,EAAK2J,KACFtL,qBAhIKC,EAkIC,qDAjIN,sCAAwCA,GAkIvC,SACAE,GAEDI,MAAK,SAACjB,GACL,EAAKkM,SAAS,CACZlM,SAAUA,EACVyL,kBAAmBA,IAErB4B,QAAQC,IAAItN,UAlIlB,EAAKgM,KAAO,IAAIjM,EAEhB,EAAK8L,MAAQ,CACX7L,SAAU,GACVwH,SAAU,KACVsE,YAAa,CAAEW,KAAK,EAAMC,KAAK,EAAMC,KAAK,EAAMC,YAAY,GAC5DtC,cAAe,QACfC,KAAM,QACNkB,kBAAmB,IAXJ,E,qDAenB,WAAqB,IAAD,OAClB/G,KAAKsH,KAAKuB,WAAW7I,KAAKa,OAC1Bb,KAAKyH,aACLqB,aAAY,WACV,EAAKxB,KAAKxH,mBAAmB,IAAIjF,QAChC,O,kCAGL,WACEmF,KAAKsH,KAAK1H,Y,oBAkHZ,WAAU,IAAD,OACP,OACE,sBAAK2C,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,sDAEA,sBAAKA,UAAU,UAAf,UACE,qBACEA,UAAU,YACVwG,IAAK,SAACC,GAAD,OAAe,EAAKnI,MAAQmI,KAEnC,sBAAKzG,UAAU,YAAf,UACE,cAAC,EAAD,CACEP,YAAahC,KAAKmH,MAAMC,YAAX,IACblF,YAAalC,KAAKmH,MAAMC,YAAX,IACbhF,YAAapC,KAAKmH,MAAMC,YAAX,IACb9E,mBAAoBtC,KAAKmH,MAAMC,YAAX,WACpB1E,SAAU1C,KAAKiH,6BAEjB,cAAC,EAAD,CACEvE,SAAU1C,KAAK0H,oBACf5E,SAAU9C,KAAKmH,MAAMtB,OAEvB,cAAC,EAAD,CACEnD,SAAU1C,KAAK2H,4BACf3E,iBAAkBhD,KAAKmH,MAAMJ,kBAC7BjE,SAAU9C,KAAKmH,MAAMvB,gBAEvB,cAAC,EAAD,CAAWzC,QAASnD,KAAK4H,0BACzB,cAAC,EAAD,CAAOzE,QAASnD,KAAK8H,+BAIzB,sBAAKvF,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAQoD,WAAY3F,KAAKmH,MAAM7L,cAEjC,qBAAKiH,UAAU,e,GA/KLuC,aCpBlBmE,IAASlN,OACL,cAAC,EAAD,IACFmN,SAASC,eAAe,W","file":"static/js/main.fbc989e8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/earth_nasa_2012_2000x1000.e509b746.jpg\";","import * as satellite from \"satellite.js/lib/index\";\n\nexport const EarthRadius = 6371;\n\nexport const parseTleFile = (fileContent, dictEstaciones, stationOptions) => {\n  const result = [];\n  const lines = fileContent.split(\"\\n\");\n  let current = null;\n  let id_norad = \"0\";\n\n  for (let i = 0; i < lines.length; ++i) {\n    const line = lines[i].trim();\n\n    if (line.length === 0) continue;\n\n    if (line[0] === \"1\") {\n      current.tle1 = line;\n    } else if (line[0] === \"2\") {\n      current.tle2 = line;\n      id_norad = line.split(\" \")[1];\n      if (id_norad) {\n        current.id_norad = id_norad.toString().trim();\n        current.datos = dictEstaciones[id_norad];\n      } else {\n        current.id_norad = \"0\";\n      }\n    } else {\n      current = {\n        name: line,\n        ...stationOptions,\n      };\n      result.push(current);\n    }\n  }\n\n  let resultado = result.filter((item) => item.datos);\n  return resultado;\n};\n\nconst toThree = (v) => {\n  return { x: v.x, y: v.z, z: -v.y };\n};\n\nconst getSolution = (station, date) => {\n  if (!station.satrec) {\n    const { tle1, tle2 } = station;\n    if (!tle1 || !tle2) return null;\n    station.satrec = satellite.twoline2satrec(tle1, tle2);\n  }\n\n  return satellite.propagate(station.satrec, date);\n};\n\nexport const getPositionFromTle = (station, date, type = 1) => {\n  if (!station || !date) return null;\n\n  const positionVelocity = getSolution(station, date);\n  const positionEci = positionVelocity.position;\n\n  if (type === 2) return;\n  toThree(positionEci);\n\n  const gmst = satellite.gstime(date);\n\n  if (!positionEci) return null;\n\n  const positionEcf = satellite.eciToEcf(positionEci, gmst);\n\n  return toThree(positionEcf);\n};\n","import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport earthmap from \"../img/earth_nasa_2012_2000x1000.jpg\";\nimport circle from \"../img/circle.png\";\nimport { parseTleFile, getPositionFromTle } from \"./tle\";\nimport { earthRadius } from \"satellite.js/lib/constants\";\n\nlet hoy = new Date();\n\nconst defaultOptions = {\n  backgroundColor: 0x111110,\n  defaultSatelliteColor: 0xff0000,\n  onStationClicked: null,\n};\n\nconst defaultStationOptions = {\n  orbitMinutes: 0,\n  satelliteSize: 50,\n};\n\nexport class Sats {\n  stations = [];\n  targetList = [];\n\n  resetView() {\n    this.camera.position.z = -45000;\n    this.camera.position.y = 15000;\n    this.camera.position.x = 45000;\n    this.camera.lookAt(0, 0, 0);\n    this.render();\n  }\n\n  quitarSatelites() {\n    this.scene.remove.apply(this.scene, this.scene.children);\n\n    this.stations = [];\n    const sun = new THREE.PointLight(0xffffff, 1, 0);\n    sun.position.set(0, 0, -149400000);\n    const ambient = new THREE.AmbientLight(0x909090);\n    this.scene.add(sun);\n    this.scene.add(ambient);\n\n    const textLoader = new THREE.TextureLoader();\n    const group = new THREE.Group();\n\n    let geometry = new THREE.SphereGeometry(earthRadius, 50, 50);\n    let material = new THREE.MeshPhongMaterial({\n      side: THREE.DoubleSide,\n      flatShading: false,\n      map: textLoader.load(earthmap, this.render),\n    });\n\n    const earth = new THREE.Mesh(geometry, material);\n    group.add(earth);\n\n    this.earth = group;\n    this.scene.add(this.earth);\n\n    this.render();\n  }\n\n  initialize(container, options = {}) {\n    this.vista = container;\n    this.raycaster = new THREE.Raycaster();\n    this.options = { ...defaultOptions, ...options };\n\n    const width = 800;\n    const height = 400;\n\n    this.scene = new THREE.Scene();\n\n    let NEAR = 1e-6;\n    let FAR = 1e27;\n    this.camera = new THREE.PerspectiveCamera(54, width / height, NEAR, FAR);\n    this.controls = new OrbitControls(this.camera, this.vista);\n    this.controls.enablePan = false;\n    this.controls.addEventListener(\"change\", () => this.render());\n    this.camera.position.z = -45000;\n    this.camera.position.y = 15000;\n    this.camera.position.x = 45000;\n    this.camera.lookAt(0, 0, 0);\n\n    this.renderer = new THREE.WebGLRenderer({\n      logarithmicDepthBuffer: true,\n      antialias: true,\n    });\n\n    this.renderer.setClearColor(new THREE.Color(this.options.backgroundColor));\n    this.renderer.setSize(width, height);\n\n    this.vista.appendChild(this.renderer.domElement);\n\n    const sun = new THREE.PointLight(0xffffff, 1, 0);\n    sun.position.set(0, 0, -149400000);\n    const ambient = new THREE.AmbientLight(0x909090);\n    this.scene.add(sun);\n    this.scene.add(ambient);\n\n    const textLoader = new THREE.TextureLoader();\n    const group = new THREE.Group();\n\n    let geometry = new THREE.SphereGeometry(earthRadius, 50, 50);\n    let material = new THREE.MeshPhongMaterial({\n      side: THREE.DoubleSide,\n      flatShading: false,\n      map: textLoader.load(earthmap, this.render),\n    });\n\n    const earth = new THREE.Mesh(geometry, material);\n    group.add(earth);\n    this.earth = group;\n    this.scene.add(this.earth);\n    this.render();\n    window.addEventListener(\"resize\", this.handleWindowResize);\n  }\n\n  dispose() {\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    this.raycaster = null;\n    this.vista = null;\n    this.controls.dispose();\n  }\n\n  handleWindowResize = () => {\n    const width = 800;\n    const height = 400;\n\n    this.renderer.setSize(width, height);\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n    this.render();\n  };\n\n  loadLteFileStations = (url, color, dictEstaciones, stationOptions) => {\n    const options = { ...defaultStationOptions, ...stationOptions };\n\n    return fetch(url).then((res) => {\n      if (res.ok) {\n        return res.text().then((lteFileContent) => {\n          const stations = parseTleFile(\n            lteFileContent,\n            dictEstaciones,\n            options\n          );\n\n          const { satelliteSize } = options;\n\n          stations.forEach((s) => {\n            const SpriteScaleFactor = 5000;\n\n            if (!this.material) {\n              this._satelliteSprite = new THREE.TextureLoader().load(\n                circle,\n                this.render\n              );\n              this.material = new THREE.SpriteMaterial({\n                map: this._satelliteSprite,\n                color: color,\n                sizeAttenuation: false,\n              });\n            }\n\n            const result = new THREE.Sprite(this.material);\n\n            result.scale.set(\n              satelliteSize / SpriteScaleFactor,\n              satelliteSize / SpriteScaleFactor,\n              1\n            );\n\n            const sat = result;\n            const pos = getPositionFromTle(s, hoy);\n            if (!pos) return;\n\n            sat.position.set(pos.x, pos.y, pos.z);\n            s.mesh = sat;\n            this.stations.push(s);\n\n            if (s.orbitMinutes > 0) this.addOrbit(s);\n\n            this.earth.add(sat);\n          });\n\n          this.render();\n\n          return stations;\n        });\n      }\n    });\n  };\n\n  addOrbit = (station) => {\n    if (station.orbitMinutes > 0) return;\n\n    const revsPerDay = station.satrec.no * (1440 / (2.0 * 3.141592654));\n    const intervalMinutes = 1;\n    const minutes = station.orbitMinutes || 1440 / revsPerDay;\n    const initialDate = new Date();\n\n    if (!this.orbitMaterial) {\n      this.orbitMaterial = new THREE.LineBasicMaterial({\n        color: 0x999999,\n        opacity: 0.5,\n        transparent: true,\n      });\n    }\n\n    var points = [];\n\n    for (var i = 0; i <= minutes; i += intervalMinutes) {\n      const date = new Date(initialDate.getTime() + i * 60000);\n\n      const pos = getPositionFromTle(station, date);\n      if (!pos) continue;\n\n      points.push(new THREE.Vector3(pos.x, pos.y, pos.z));\n    }\n\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\n    var orbitCurve = new THREE.Line(geometry, this.orbitMaterial);\n    station.orbit = orbitCurve;\n\n    this.earth.add(orbitCurve);\n    this.render();\n  };\n\n  removeOrbit = (station) => {\n    if (!station || !station.orbit) return;\n\n    this.earth.remove(station.orbit);\n    station.orbit.geometry.dispose();\n    station.orbit = null;\n    station.mesh.material = this.material;\n    this.render();\n  };\n\n  updateSatellitePosition = (station, date) => {\n    date = date || hoy;\n\n    const pos = getPositionFromTle(station, date);\n    if (!pos) return;\n\n    station.mesh.position.set(pos.x, pos.y, pos.z);\n  };\n\n  updateAllPositions = (date) => {\n    if (!this.stations) return;\n\n    this.stations.forEach((station) => {\n      this.updateSatellitePosition(station, date);\n    });\n\n    this.render();\n  };\n\n  render = () => {\n    this.renderer.render(this.scene, this.camera);\n  };\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU0NzRBMzdDQ0UzQzExRTlBQTNEQ0RGREI3NTMyNURBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU0NzRBMzdEQ0UzQzExRTlBQTNEQ0RGREI3NTMyNURBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTQ3NEEzN0FDRTNDMTFFOUFBM0RDREZEQjc1MzI1REEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTQ3NEEzN0JDRTNDMTFFOUFBM0RDREZEQjc1MzI1REEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7CiWTAAAADFklEQVR42uxbQWsTQRSerdVejbe0SGoWCQG95tR7kZyF2msPhRQU9CDoLbceehCsiseC5Bf4B0Q9eLAVpalIAlbavXV7tWrG93R2GR9idp3Z3Wn2ffDIkHZnvvdl9s3Oe7OelFKUGVOi5GABWAAWoNyYNlbQK1bDkRzxDCh0BqTEObAmWB2sClZR34dgAdgQrA92MkkCtMA66rOZ8BoU4Q3YI/WZGbwsngQhLvjK6TZYw7C7j2DPUQy43wdOCwCO15TjN8Au0r+fgYB5pXlV+Jd9MTc7JyoXzv+e/0fH4uDwQAw+DcSH/nvx4++B7QtYTwnx2RppFMCGecJbAnsBJnWbn52XqyurcufttkwK/F+8Bq+l/akxlmzxtuV8FyzUiS60FmTvWU+aAvvAvogIOFa3cAGAhA/2VCfXuNSQDx9sStvAPrFvIgSO7RcigHJ+Sye0fH1Zvn75SmYF7BvHICJsmYhgIsAfv/ydm7dlcBjIrIFj4Fh0JuQqgLrnYwL3796TeQPHJCJ0cxFARftQ/+WLApkJ4f+sDmmdr+lLHd6PeUz7f90OJCYgt1qWAqzr0T7LgJcmMJLVYT0TAVTU348GymKpM1kiNQH206wKaQTY0B9yXAN5WNpI6leafEA7aqzdWnNuX084ta3uBUDRlv5s7yrI3qFlcwZ0osbitUVnszuEW8fmDNiNlE2zq8sbyE2bAbuJfBuXD4A9Pqaxvkb7+W+j707n+M5OTev5hJmRHJ2YJkXjNBYmM1wH4Tg2BZdEgHrUwEyO6yAc6zYEqEYNTGO5DsKxakOAStxQOTyXQThWuDBiQYAwbhwdO+8Q4RjaECCIGpi6dh2EY2BDgGHUwLy96yAch8aFkdI/CKkOsFb3q+N32zvOOo/cNOf745xPswrEBcrHm0+cFYBwS1ZULft2OE1GaC/q3EbJyzaQk+b8HqfEOCnKaXEujHBpjIujXB7nAxJ8RIYPSeUgwGk+Jlf6g5J8VNZUgATvC2R6WNr0fYE8BNBh/bj8aRPAOviNEReD4KRVhlgAFoAFYAEmFj8FGAAJ0wP48QIIgAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/datos.ffb69a82.csv\";","import React from \"react\";\nimport \"./ClaseOrbita.css\";\n\nconst ClaseOrbita = (props) => {\n  const c1 = props.checked_LEO;\n  const c2 = props.checked_GEO;\n  const c3 = props.checked_MEO;\n  const c4 = props.checked_Elliptical;\n\n  return (\n    <div className=\"clase-orbita\">\n      <div className=\"tit-clase-orbita\">Tipo de órbita</div>\n      <div className=\"cuerpo-clase-orbita\">\n        <form className=\"form-clase-orbita\">\n          <input\n            type=\"checkbox\"\n            id=\"cb1\"\n            name=\"clase_orbita\"\n            value=\"LEO\"\n            onChange={props.onChange}\n            checked={c1}\n          />\n          <label htmlFor=\"cb1\">Baja altura (LEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb2\"\n            name=\"clase_orbita\"\n            value=\"GEO\"\n            onChange={props.onChange}\n            checked={c2}\n          />\n          <label htmlFor=\"cb2\">Geoestacionaria (GEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb3\"\n            name=\"clase_orbita\"\n            value=\"MEO\"\n            onChange={props.onChange}\n            checked={c3}\n          />\n          <label htmlFor=\"cb3\">Media altura (MEO)</label>\n          <br />\n          <input\n            type=\"checkbox\"\n            id=\"cb4\"\n            name=\"clase_orbita\"\n            value=\"Elliptical\"\n            onChange={props.onChange}\n            checked={c4}\n          />\n          <label htmlFor=\"cb4\">Excéntrica (HEO)</label>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ClaseOrbita;\n","import React from \"react\";\r\nimport \"./Usos.css\";\r\n\r\nconst Usos = (props) => {\r\n  return (\r\n    <div className=\"usos\">\r\n      <div className=\"cuerpo-usos\">\r\n        <div className=\"tit-usos\">Aplicaciones</div>\r\n\r\n        <form className=\"form-usos\">\r\n          <select\r\n            name=\"usos\"\r\n            id=\"usoSatelite\"\r\n            onChange={props.onChange}\r\n            value={props.selected}\r\n          >\r\n            <option value=\"todos\">todas</option>\r\n            <option value=\"Civil\">Civil</option>\r\n            <option value=\"Government\">Gubernamental</option>\r\n            <option value=\"Military\">Militar</option>\r\n            <option value=\"Commercial\">Comercial</option>\r\n          </select>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Usos;\r\n","import React from 'react';\r\nimport \"./PaisOperador.css\";\r\n\r\nconst PaisOperador = (props) => {\r\n\r\n    return (\r\n        <div className=\"pais-operador\">\r\n        <div className=\"tit-pais-operador\">País operador</div>\r\n\r\n        <form className=\"form-pais-operador\">\r\n            <select name=\"paisOperador\" id=\"pais\" onChange={props.onChange} value={props.selected}>\r\n                {props.paisesOperadores.map((pais) => <option key={pais} value={pais}>{pais}</option>)}\r\n            </select>        \r\n        </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaisOperador;\r\n","import React from \"react\";\r\nimport \"./ResetView.css\";\r\n\r\nconst ResetView = (props) => {\r\n  return (\r\n    <div className=\"reset-view\">\r\n      <button className=\"boton-reset-view\" onClick={props.onClick}>Reiniciar vista</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetView;\r\n","import React from \"react\";\r\nimport \"./Reset.css\";\r\n\r\nconst Reset = (props) => {\r\n  return (\r\n    <div className=\"reset\">\r\n      <button className=\"boton-reset\" onClick={props.onClick}>Config. inicial</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","export default __webpack_public_path__ + \"static/media/acumulados.f06eb295.csv\";","import React, { Component } from 'react';\r\nimport acumulados from \"./datos/acumulados.csv\";\r\nimport \"./Grafica.css\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n\r\nclass Grafica extends Component {\r\n\r\n    muestraGrafica() {\r\n\r\n        let margin_gr = { 'top': 60, 'right': 50, 'bottom': 120, 'left': 50 };\r\n        let width_gr = 550 - margin_gr.left - margin_gr.right;\r\n        let height_gr = 450 - margin_gr.top - margin_gr.bottom;\r\n\r\n        const svg = d3\r\n            .select(\"#gr\")\r\n            .append(\"svg\")\r\n            .attr(\"class\", \"svg-grafica\")\r\n            .attr(\"width\", width_gr + margin_gr.left + margin_gr.right)\r\n            .attr(\"height\", height_gr + margin_gr.top + margin_gr.bottom)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + margin_gr.left + \",\" + margin_gr.top + \")\");\r\n\r\n      \r\n\r\n        d3.csv(acumulados).then((datos) => {\r\n\r\n            let x_gr = d3.scaleTime()\r\n                .domain([new Date(\"1974-01-01\"), new Date(\"2021-12-31\")])\r\n                // .domain(d3.extent(datos, (d) => Date.parse(d.fecha)))\r\n                .range([0, width_gr]);\r\n\r\n            // eje x\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-x\")\r\n                .attr(\"transform\", \"translate(0,\" + height_gr + \")\")\r\n                .call(d3.axisBottom(x_gr).tickSize(0))\r\n                .selectAll(\"text\")\r\n                .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\r\n                .style(\"text-anchor\", \"end\");\r\n\r\n            let y_gr = d3.scaleLinear()\r\n                .domain([0, d3.max(datos, (d) => d.acumulado * 1.1)])\r\n                .range([height_gr, 0]);\r\n\r\n            // eje y\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-y\")\r\n                .call(d3.axisLeft(y_gr).tickSize(0).tickFormat(d3.format(\"d\")));\r\n\r\n\r\n            // eje y derecho \r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"eje-y\")\r\n                .attr(\"transform\", \"translate( \" + width_gr + \", 0 )\")\r\n                .call(d3.axisRight(y_gr).tickSize(0).tickFormat(d3.format(\"d\")));\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"grid-grafica\")\r\n                .attr(\"transform\", \"translate(0,\" + height_gr + \")\")\r\n                .call(d3.axisBottom(x_gr)\r\n                    .ticks(5)\r\n                    .tickSize(-height_gr)\r\n                    .tickFormat(\"\")\r\n                )\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"class\", \"grid-grafica\")\r\n                .call(d3.axisLeft(y_gr)\r\n                    .ticks(5)\r\n                    .tickSize(-width_gr)\r\n                    .tickFormat(\"\")\r\n                )\r\n\r\n            // líneas\r\n            svg.append(\"path\")\r\n                .datum(datos)\r\n                .attr(\"fill\", \"none\")\r\n                .attr(\"stroke\", \"orange\")\r\n                .attr(\"stroke-width\", 2.5)\r\n                .attr(\"d\", d3.line()\r\n                    .x((d) => x_gr(Date.parse(d.fecha)))\r\n                    .y((d) => y_gr(d.acumulado))\r\n                )\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"x\", (width_gr / 2))             \r\n                .attr(\"y\", height_gr + (margin_gr.bottom / 2))\r\n                .attr(\"class\", \"tit-grafica\")\r\n                .style('fill', 'darkOrange')\r\n                .text(\"Evolución del número de satélites activos\");\r\n\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.muestraGrafica();\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"gr\" className=\"grafica\">\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Grafica;\r\n","import React, { Component } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nfunction onlyUnique(value, index, self) {\r\n  return self.indexOf(value) === index;\r\n}\r\n\r\nclass Paises extends Component {\r\n  muestraPaises() {\r\n    let datos = [];\r\n    let mapaPaises = new Map();\r\n    let civ = [1, 0, 0, 0, 0];\r\n    let gov = [0, 1, 0, 0, 0];\r\n    let mil = [0, 0, 1, 0, 0];\r\n    let com = [0, 0, 0, 1, 0];\r\n    let total = [0, 0, 0, 0, 1];\r\n\r\n    this.props.estaciones\r\n      .map((s) => {\r\n        return s.datos.pais_operador;\r\n      })\r\n      .filter(onlyUnique)\r\n      .map((item) => mapaPaises.set(item, [0, 0, 0, 0, 0]));\r\n\r\n    this.props.estaciones.forEach((s) => {\r\n      if (s.datos.usos.indexOf(\"Civil\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + civ[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Government\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + gov[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Military\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + mil[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Commercial\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + com[i])\r\n        );\r\n      }\r\n\r\n      mapaPaises.set(\r\n        s.datos.pais_operador,\r\n        mapaPaises.get(s.datos.pais_operador).map((v, i) => v + total[i])\r\n      );\r\n    });\r\n\r\n    mapaPaises.forEach((valor, clave) => {\r\n      datos.push({\r\n        pais_operador: clave,\r\n        civ: valor[0],\r\n        gov: valor[1],\r\n        mil: valor[2],\r\n        com: valor[3],\r\n        recuento: valor[4],\r\n      });\r\n    });\r\n\r\n    datos = datos.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n\r\n    if (datos.length <= 0) {\r\n      let svg_paises = d3.select(\".paises\").remove();\r\n      return;\r\n    }\r\n\r\n    let data = [];\r\n    if (datos.length === 1) {\r\n      data = [\r\n        { pais_operador: \"Civil\", recuento: datos[0].civ },\r\n        { pais_operador: \"Gubernamental\", recuento: datos[0].gov },\r\n        { pais_operador: \"Militar\", recuento: datos[0].mil },\r\n        { pais_operador: \"Comercial\", recuento: datos[0].com },\r\n      ].filter((d) => d.recuento > 0);\r\n\r\n      data = data.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n    } else {\r\n      data = datos\r\n        .map((item) => {\r\n          return { pais_operador: item.pais_operador, recuento: item.recuento };\r\n        })\r\n        .filter((item, i) => i > datos.length - 11);\r\n    }\r\n\r\n    let margin = { top: 60, right: 60, bottom: 80, left: 120 };\r\n    let width = 600 - margin.left - margin.right;\r\n    let height = 50 * data.length;\r\n\r\n    let svg_paises = d3\r\n      .select(\"#gr-paises\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"paises\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    let y = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.pais_operador))\r\n      .range([height, 0])\r\n      .padding(0.1);\r\n\r\n    // eje y\r\n    svg_paises\r\n      .append(\"g\")\r\n      .attr(\"class\", \"eje-y-paises\")\r\n      .call(d3.axisLeft(y).tickSize(0));\r\n\r\n    let x = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.recuento)])\r\n      .range([0, width]);\r\n\r\n    // barras\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#69b3a2\");\r\n      // .attr(\"fill\", \"#66c4e0\");\r\n    } else {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#d9884e\");\r\n    }\r\n\r\n    svg_paises\r\n      .selectAll(\"text.bar\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"text\")\r\n      .text(function (d) {\r\n        return d.recuento;\r\n      })\r\n      .attr(\"x\", function (d, i) {\r\n        return x(d.recuento) + 20;\r\n      })\r\n      .attr(\"y\", function (d, i) {\r\n        let alto = height / data.length;\r\n        return height - 12 - (alto * i + 5);\r\n      })\r\n      .attr(\"font-family\", \"sans-serif\")\r\n      .attr(\"font-size\", \"14px\")\r\n      .attr(\"fill\", \"white\")\r\n      .attr(\"text-anchor\", \"middle\");\r\n\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por países\");\r\n    } else {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por finalidad\");\r\n    }\r\n  }\r\n\r\n  actualizaPaises() {\r\n    let datos = [];\r\n    let mapaPaises = new Map();\r\n    let civ = [1, 0, 0, 0, 0];\r\n    let gov = [0, 1, 0, 0, 0];\r\n    let mil = [0, 0, 1, 0, 0];\r\n    let com = [0, 0, 0, 1, 0];\r\n    let total = [0, 0, 0, 0, 1];\r\n\r\n    this.props.estaciones\r\n      .map((s) => {\r\n        return s.datos.pais_operador;\r\n      })\r\n      .filter(onlyUnique)\r\n      .map((item) => mapaPaises.set(item, [0, 0, 0, 0, 0]));\r\n\r\n    this.props.estaciones.forEach((s) => {\r\n      if (s.datos.usos.indexOf(\"Civil\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + civ[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Government\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + gov[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Military\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + mil[i])\r\n        );\r\n      }\r\n      if (s.datos.usos.indexOf(\"Commercial\") !== -1) {\r\n        mapaPaises.set(\r\n          s.datos.pais_operador,\r\n          mapaPaises.get(s.datos.pais_operador).map((v, i) => v + com[i])\r\n        );\r\n      }\r\n\r\n      mapaPaises.set(\r\n        s.datos.pais_operador,\r\n        mapaPaises.get(s.datos.pais_operador).map((v, i) => v + total[i])\r\n      );\r\n    });\r\n\r\n    mapaPaises.forEach((valor, clave) => {\r\n      datos.push({\r\n        pais_operador: clave,\r\n        civ: valor[0],\r\n        gov: valor[1],\r\n        mil: valor[2],\r\n        com: valor[3],\r\n        recuento: valor[4],\r\n      });\r\n    });\r\n\r\n    datos = datos.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n\r\n    if (datos.length <= 0) {\r\n      let svg_paises = d3.select(\".paises\").remove();\r\n      return;\r\n    }\r\n\r\n    let data = [];\r\n    if (datos.length === 1) {\r\n      data = [\r\n        { pais_operador: \"Civil\", recuento: datos[0].civ },\r\n        { pais_operador: \"Gubernamental\", recuento: datos[0].gov },\r\n        { pais_operador: \"Militar\", recuento: datos[0].mil },\r\n        { pais_operador: \"Comercial\", recuento: datos[0].com },\r\n      ].filter((d) => d.recuento > 0);\r\n\r\n      data = data.slice().sort((a, b) => d3.ascending(a.recuento, b.recuento));\r\n    } else {\r\n      data = datos\r\n        .map((item) => {\r\n          return { pais_operador: item.pais_operador, recuento: item.recuento };\r\n        })\r\n        .filter((item, i) => i > datos.length - 11);\r\n    }\r\n\r\n    let margin = { top: 80, right: 60, bottom: 80, left: 120 };\r\n    let width = 600 - margin.left - margin.right;\r\n\r\n    let height = 50 * data.length;\r\n\r\n    let svg_paises = d3.select(\".paises\").remove();\r\n\r\n    svg_paises = d3\r\n      .select(\"#gr-paises\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"paises\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    let y = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.pais_operador))\r\n      .range([height, 0])\r\n      .padding(0.1);\r\n\r\n    // eje y\r\n    svg_paises\r\n      .append(\"g\")\r\n      .attr(\"class\", \"eje-y-paises\")\r\n      .call(d3.axisLeft(y).tickSize(0));\r\n\r\n    let x = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.recuento)])\r\n      .range([0, width]);\r\n\r\n    // barras\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#69b3a2\");\r\n      // .attr(\"fill\", \"#66c4e0\");\r\n    } else {\r\n      svg_paises\r\n        .selectAll(\"myRect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"class\", \"barraPais\")\r\n        .attr(\"x\", x(0))\r\n        .attr(\"y\", (d) => y(d.pais_operador))\r\n        .attr(\"width\", (d) => x(d.recuento))\r\n        .attr(\"height\", y.bandwidth())\r\n        .attr(\"fill\", \"#d9884e\");\r\n    }\r\n\r\n    svg_paises\r\n      .selectAll(\"text.bar\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"text\")\r\n      .text(function (d) {\r\n        return d.recuento;\r\n      })\r\n      .attr(\"x\", function (d, i) {\r\n        return x(d.recuento) + 20;\r\n      })\r\n      .attr(\"y\", function (d, i) {\r\n        let alto = height / data.length;\r\n        return height - 12 - (alto * i + 5);\r\n      })\r\n      .attr(\"font-family\", \"sans-serif\")\r\n      .attr(\"font-size\", \"14px\")\r\n      .attr(\"fill\", \"white\")\r\n      .attr(\"text-anchor\", \"middle\");\r\n\r\n    if (datos.length > 1) {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por países\");\r\n    } else {\r\n      svg_paises\r\n        .append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", 0 - margin.top / 6)\r\n        .attr(\"class\", \"tit-grafica\")\r\n        .style(\"fill\", \"white\")\r\n        .text(\"Distribución por finalidad\");\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.muestraPaises();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.actualizaPaises();\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"gr-paises\" className=\"grafica-paises\"></div>;\r\n  }\r\n}\r\n\r\nexport default Paises;\r\n","import React, { Component } from \"react\";\n\nimport \"./App.css\";\nimport { Sats } from \"./util/Sats\";\nimport * as d3 from \"d3\";\nimport data from \"./datos/datos.csv\";\n// import active from \"./datos/active.txt\";\nimport ClaseOrbita from \"./ClaseOrbita\";\nimport Usos from \"./Usos\";\nimport PaisOperador from \"./PaisOperador\";\nimport ResetView from \"./ResetView\";\nimport Reset from \"./Reset\";\nimport Grafica from \"./Grafica\";\nimport Paises from \"./Paises\";\n\nlet estaciones = [];\nlet dictEstaciones = {};\nlet paises_operadores = [\"todos\"];\n\n\nfunction cors(url) {\n  return \"https://api.allorigins.win/raw?url=\" + url;\n}\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sats = new Sats();\n\n    this.state = {\n      stations: [],\n      selected: null,\n      claseOrbita: { LEO: true, GEO: true, MEO: true, Elliptical: true },\n      pais_operador: \"todos\",\n      usos: \"todos\",\n      paises_operadores: [],\n    };\n  }\n\n  componentDidMount() {\n    this.sats.initialize(this.vista);\n    this.actualizar();\n    setInterval(() => {\n      this.sats.updateAllPositions(new Date());\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    this.sats.dispose();\n  }\n\n  onChangeClaseOrbitaHandler = (b) => {\n    let clases = this.state.claseOrbita;\n    clases[b.target.value] = b.target.checked;\n\n    this.sats.quitarSatelites();\n    this.setState({ claseOrbita: clases });\n\n    this.actualizar();\n  };\n\n  onChangeUsosHandler = (b) => {\n    this.sats.quitarSatelites();\n    this.setState({ usos: b.target.value });\n\n    this.actualizar();\n  };\n\n  onChangePaisOperadorHandler = (b) => {\n    this.sats.quitarSatelites();\n    this.setState({ pais_operador: b.target.value });\n\n    this.actualizar();\n  };\n\n  onClickResetViewHandler = () => {\n    this.sats.resetView();\n  };\n\n  onClickResetFormulario = () => {\n\n    this.setState({\n      stations: [],\n      selected: null,\n      claseOrbita: { LEO: true, GEO: true, MEO: true, Elliptical: true },\n      pais_operador: \"todos\",\n      usos: \"todos\",\n      paises_operadores: [],\n    });\n\n    this.actualizar();\n\n\n  }\n\n\n\n  actualizar = () => {\n    d3.csv(data).then((datos) => {\n      estaciones = datos\n        .filter((s) => {\n          let claseOrbitaBooleano =\n            (s.clase_orbita === \"LEO\" && this.state.claseOrbita[\"LEO\"]) ||\n            (s.clase_orbita === \"GEO\" && this.state.claseOrbita[\"GEO\"]) ||\n            (s.clase_orbita === \"MEO\" && this.state.claseOrbita[\"MEO\"]) ||\n            (s.clase_orbita === \"Elliptical\" &&\n              this.state.claseOrbita[\"Elliptical\"]);\n\n          let usosBooleano = true;\n\n          if (this.state.usos !== \"todos\") {\n            usosBooleano = s.usos.indexOf(this.state.usos) !== -1;\n          }\n\n          let paisOperadorBooleano = true;\n\n          if (this.state.pais_operador !== \"todos\") {\n            paisOperadorBooleano = s.pais_operador === this.state.pais_operador;\n          }\n\n          if (claseOrbitaBooleano && usosBooleano && paisOperadorBooleano)\n            return true;\n          else return false;\n        })\n        .map((fila) => {\n          if (!paises_operadores.includes(fila[\"pais_operador\"])) {\n            paises_operadores.push(fila[\"pais_operador\"]);\n          }\n\n          return {\n            id_norad: fila[\"NORAD\"],\n            nombre: fila[\"nombre\"],\n            nombre_oficial: fila[\"nombre_oficial\"],\n            pais_operador: fila[\"pais_operador\"],\n            usos: fila[\"usos\"],\n            clase_orbita: fila[\"clase_orbita\"],\n            fecha: fila[\"fecha\"],\n          };\n        });\n\n      dictEstaciones = {};\n      estaciones.forEach((item) => {\n        dictEstaciones[item.id_norad] = item;\n      });\n\n      this.sats\n        .loadLteFileStations(\n          // active,\n          cors(\"http://www.celestrak.com/NORAD/elements/active.txt\"),\n          0xabacff,\n          dictEstaciones\n        )\n        .then((stations) => {\n          this.setState({\n            stations: stations,\n            paises_operadores: paises_operadores,\n          });\n          console.log(stations);\n        });\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"pra\">\n        <div className=\"cabecera\">Satélites artificiales en tiempo real</div>\n\n        <div className=\"bloque1\">\n          <div\n            className=\"satelites\"\n            ref={(elemento) => (this.vista = elemento)}\n          />\n          <div className=\"controles\">\n            <ClaseOrbita\n              checked_LEO={this.state.claseOrbita[\"LEO\"]}\n              checked_GEO={this.state.claseOrbita[\"GEO\"]}\n              checked_MEO={this.state.claseOrbita[\"MEO\"]}\n              checked_Elliptical={this.state.claseOrbita[\"Elliptical\"]}\n              onChange={this.onChangeClaseOrbitaHandler}\n            />\n            <Usos\n              onChange={this.onChangeUsosHandler}\n              selected={this.state.usos}\n            />\n            <PaisOperador\n              onChange={this.onChangePaisOperadorHandler}\n              paisesOperadores={this.state.paises_operadores}\n              selected={this.state.pais_operador}\n            />\n            <ResetView onClick={this.onClickResetViewHandler} />\n            <Reset onClick={this.onClickResetFormulario} />\n          </div>\n        </div>\n\n        <div className=\"bloque2\">\n          <Grafica />\n          <Paises estaciones={this.state.stations} />\n        </div>\n        <div className=\"pie\"></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}